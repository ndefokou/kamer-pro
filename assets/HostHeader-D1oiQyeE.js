import{j as s,r as e,a8 as a,aB as t,z as r,aC as o}from"./vendor-ui-DcvuiMJW.js";import{e as l,u as n,r as i,L as c}from"./vendor-react-CPc5zwff.js";import{u as d,B as h}from"./index-DwPe7WlF.js";import{A as m,a as x,b as g}from"./avatar-B5sUQZ8R.js";import{S as p,a as u,b as j,c as b,d as v}from"./sheet-Cjy6RLcH.js";import{L as f}from"./LanguageSwitcher-kkyV-vkk.js";import{u as N}from"./useTranslation-BptfK32d.js";const y=()=>{const y=l(),w=n(),{user:C,logout:k}=d(),[L,A]=i.useState(!1),{t:S}=N(),U=(null==C?void 0:C.username)||"",_=(s=>{const e=null==s?void 0:s.trim();if(!e)return"AD";const a=e.split(/\s+/);return 1===a.length?e.slice(0,2).toUpperCase():(a[0][0]+a[1][0]).toUpperCase()})(U||"User"),z=s=>w.pathname===s,M="/host/dashboard"===w.pathname;return s.jsx("header",{className:"border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 sticky top-0 z-50 pt-safe",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 md:h-20 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-12",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[!M&&s.jsx(h,{variant:"ghost",size:"icon",onClick:()=>y(-1),className:"rounded-full","aria-label":"Go back",children:s.jsx(e,{className:"h-6 w-6"})}),s.jsx("div",{className:"flex items-center gap-2 text-primary font-bold text-xl cursor-pointer",onClick:()=>y("/"),children:s.jsx("img",{src:"/logo.png",alt:"Le Mboko",className:"h-10 w-10 object-contain rounded-lg"})})]}),s.jsxs("nav",{className:"hidden md:flex gap-8 text-sm font-medium",children:[s.jsxs(c,{to:"/host/reservations",className:""+(z("/host/reservations")?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"),children:[S("nav.reservations","Reservations"),z("/host/reservations")&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]}),s.jsxs(c,{to:"/host/calendar",className:""+(z("/host/calendar")?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"),children:[S("nav.calendar","Calendar"),z("/host/calendar")&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]}),s.jsxs(c,{to:"/host/dashboard",className:""+(z("/host/dashboard")?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"),children:[S("nav.listings","Listings"),z("/host/dashboard")&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]}),s.jsxs(c,{to:"/messages?view=host",className:""+("/messages"===w.pathname?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"),children:[S("nav.messages","Messages"),"/messages"===w.pathname&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(h,{variant:"ghost",className:"text-sm font-medium hover:bg-gray-100 rounded-full px-4",onClick:()=>y("/"),children:S("host.header.switchToTraveling","Switch to traveling")}),s.jsx(f,{}),s.jsxs(p,{open:L,onOpenChange:A,children:[s.jsx(u,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-3 border border-gray-300 rounded-full py-1.5 px-3 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx(a,{className:"h-4 w-4 text-gray-700"}),s.jsxs(m,{className:"h-8 w-8",children:[s.jsx(x,{src:(null==C?void 0:C.profile_picture_url)||"/placeholder-user.jpg"}),s.jsx(g,{className:"bg-gray-700 text-white text-xs",children:_})]})]})}),s.jsxs(j,{side:"right",className:"w-[360px] sm:w-[420px]",children:[s.jsx(b,{children:s.jsx(v,{children:S("common.menu","Menu")})}),s.jsxs("div",{className:"mt-6 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[s.jsxs(m,{className:"h-10 w-10",children:[s.jsx(x,{src:(null==C?void 0:C.profile_picture_url)||"/placeholder-user.jpg"}),s.jsx(g,{className:"bg-gray-700 text-white text-sm",children:_})]}),s.jsx("div",{className:"font-semibold text-gray-900",children:U||S("common.user","User")})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100",onClick:()=>{A(!1),y("/account")},children:[s.jsx(t,{className:"h-5 w-5"}),s.jsx("span",{children:S("account.settings","Account settings")})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100",onClick:()=>{A(!1),y("/host/intro")},children:[s.jsx(r,{className:"h-5 w-5"}),s.jsx("span",{children:S("host.header.createListing","Create a new listing")})]}),s.jsx("div",{className:"pt-3 mt-2 border-t",children:s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 text-red-600",onClick:async()=>{await k(),A(!1),y("/")},children:[s.jsx(o,{className:"h-5 w-5"}),s.jsx("span",{children:S("auth.logout","Log out")})]})})]})]})]})]})]})})};export{y as H};
