import{O as It,r as n,j as e,P as R,c as K,a as Le,u as Re,R as _t,d as Tt,e as Pe,ad as Pt,f as V,ae as X,af as Et,A as Rt,g as T,i as At,ag as Oe,ah as kt,k as Mt,n as Lt,l as Ot,m as Dt,F as Bt,D as Vt,C as Ht,o as Ut,p as Ft,z as Wt,B as oe}from"./index-BumHlSai.js";import{L as zt}from"./Loading-wlpE3RCN.js";import{I as Kt}from"./input-Ct3vV0ca.js";import{c as Ae}from"./index-BdQq_4o_.js";import{u as $t}from"./index-BcTPR2G6.js";import{u as Gt}from"./index-Bnp7XLmy.js";import{C as De}from"./chevron-down-CeatZl6_.js";import{C as Yt}from"./check-Cw4ObBPz.js";import{S as be}from"./switch-BdtagMFD.js";import{g as ke,u as Xt}from"./accountService-hlSQof4h.js";import{S as qt,H as Zt}from"./Header-CQjoyTD4.js";import{M as Jt}from"./MobileNav-DOEiLKDh.js";import{C as Qt}from"./chevron-left-BgQrOA8v.js";import"./LanguageSwitcher-B49yhAFl.js";import"./chevron-right-Cey3u9Ra.js";import"./useTranslation-DUME4FCN.js";import"./menu-CwDdBYwq.js";import"./heart-DX2l2ZpK.js";import"./calendar-B4NFKoEL.js";import"./message-square-BTQwkIw7.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=It("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var to="Separator",Me="horizontal",oo=["horizontal","vertical"],Be=n.forwardRef((s,o)=>{const{decorative:t,orientation:l=Me,...c}=s,m=so(l)?l:Me,a=t?{role:"none"}:{"aria-orientation":m==="vertical"?m:void 0,role:"separator"};return e.jsx(R.div,{"data-orientation":m,...a,...c,ref:o})});Be.displayName=to;function so(s){return oo.includes(s)}var Ve=Be;const _=n.forwardRef(({className:s,orientation:o="horizontal",decorative:t=!0,...l},c)=>e.jsx(Ve,{ref:c,decorative:t,orientation:o,className:K("shrink-0 bg-border",o==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...l}));_.displayName=Ve.displayName;var no=[" ","Enter","ArrowUp","ArrowDown"],ro=[" ","Enter"],se="Select",[me,fe,ao]=Pt(se),[ae]=Tt(se,[ao,Le]),he=Le(),[lo,q]=ae(se),[io,co]=ae(se),He=s=>{const{__scopeSelect:o,children:t,open:l,defaultOpen:c,onOpenChange:m,value:i,defaultValue:a,onValueChange:d,dir:u,name:f,autoComplete:w,disabled:r,required:g,form:S}=s,p=he(o),[y,N]=n.useState(null),[h,v]=n.useState(null),[k,M]=n.useState(!1),le=$t(u),[P,O]=Re({prop:l,defaultProp:c??!1,onChange:m,caller:se}),[$,J]=Re({prop:i,defaultProp:a,onChange:d,caller:se}),H=n.useRef(null),U=y?S||!!y.closest("form"):!0,[G,F]=n.useState(new Set),W=Array.from(G).map(E=>E.props.value).join(";");return e.jsx(_t,{...p,children:e.jsxs(lo,{required:g,scope:o,trigger:y,onTriggerChange:N,valueNode:h,onValueNodeChange:v,valueNodeHasChildren:k,onValueNodeHasChildrenChange:M,contentId:Pe(),value:$,onValueChange:J,open:P,onOpenChange:O,dir:le,triggerPointerDownPosRef:H,disabled:r,children:[e.jsx(me.Provider,{scope:o,children:e.jsx(io,{scope:s.__scopeSelect,onNativeOptionAdd:n.useCallback(E=>{F(D=>new Set(D).add(E))},[]),onNativeOptionRemove:n.useCallback(E=>{F(D=>{const z=new Set(D);return z.delete(E),z})},[]),children:t})}),U?e.jsxs(dt,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:w,value:$,onChange:E=>J(E.target.value),disabled:r,form:S,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(G)]},W):null]})})};He.displayName=se;var Ue="SelectTrigger",Fe=n.forwardRef((s,o)=>{const{__scopeSelect:t,disabled:l=!1,...c}=s,m=he(t),i=q(Ue,t),a=i.disabled||l,d=V(o,i.onTriggerChange),u=fe(t),f=n.useRef("touch"),[w,r,g]=pt(p=>{const y=u().filter(v=>!v.disabled),N=y.find(v=>v.value===i.value),h=mt(y,p,N);h!==void 0&&i.onValueChange(h.value)}),S=p=>{a||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(Rt,{asChild:!0,...m,children:e.jsx(R.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ut(i.value)?"":void 0,...c,ref:d,onClick:T(c.onClick,p=>{p.currentTarget.focus(),f.current!=="mouse"&&S(p)}),onPointerDown:T(c.onPointerDown,p=>{f.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(S(p),p.preventDefault())}),onKeyDown:T(c.onKeyDown,p=>{const y=w.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&r(p.key),!(y&&p.key===" ")&&no.includes(p.key)&&(S(),p.preventDefault())})})})});Fe.displayName=Ue;var We="SelectValue",ze=n.forwardRef((s,o)=>{const{__scopeSelect:t,className:l,style:c,children:m,placeholder:i="",...a}=s,d=q(We,t),{onValueNodeHasChildrenChange:u}=d,f=m!==void 0,w=V(o,d.onValueNodeChange);return X(()=>{u(f)},[u,f]),e.jsx(R.span,{...a,ref:w,style:{pointerEvents:"none"},children:ut(d.value)?e.jsx(e.Fragment,{children:i}):m})});ze.displayName=We;var uo="SelectIcon",Ke=n.forwardRef((s,o)=>{const{__scopeSelect:t,children:l,...c}=s;return e.jsx(R.span,{"aria-hidden":!0,...c,ref:o,children:l||"▼"})});Ke.displayName=uo;var po="SelectPortal",$e=s=>e.jsx(At,{asChild:!0,...s});$e.displayName=po;var ne="SelectContent",Ge=n.forwardRef((s,o)=>{const t=q(ne,s.__scopeSelect),[l,c]=n.useState();if(X(()=>{c(new DocumentFragment)},[]),!t.open){const m=l;return m?Oe.createPortal(e.jsx(Ye,{scope:s.__scopeSelect,children:e.jsx(me.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),m):null}return e.jsx(Xe,{...s,ref:o})});Ge.displayName=ne;var L=10,[Ye,Z]=ae(ne),mo="SelectContentImpl",fo=Dt("SelectContent.RemoveScroll"),Xe=n.forwardRef((s,o)=>{const{__scopeSelect:t,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:m,onPointerDownOutside:i,side:a,sideOffset:d,align:u,alignOffset:f,arrowPadding:w,collisionBoundary:r,collisionPadding:g,sticky:S,hideWhenDetached:p,avoidCollisions:y,...N}=s,h=q(ne,t),[v,k]=n.useState(null),[M,le]=n.useState(null),P=V(o,x=>k(x)),[O,$]=n.useState(null),[J,H]=n.useState(null),U=fe(t),[G,F]=n.useState(!1),W=n.useRef(!1);n.useEffect(()=>{if(v)return Mt(v)},[v]),Lt();const E=n.useCallback(x=>{const[I,...A]=U().map(j=>j.ref.current),[C]=A.slice(-1),b=document.activeElement;for(const j of x)if(j===b||(j==null||j.scrollIntoView({block:"nearest"}),j===I&&M&&(M.scrollTop=0),j===C&&M&&(M.scrollTop=M.scrollHeight),j==null||j.focus(),document.activeElement!==b))return},[U,M]),D=n.useCallback(()=>E([O,v]),[E,O,v]);n.useEffect(()=>{G&&D()},[G,D]);const{onOpenChange:z,triggerPointerDownPosRef:Y}=h;n.useEffect(()=>{if(v){let x={x:0,y:0};const I=C=>{var b,j;x={x:Math.abs(Math.round(C.pageX)-(((b=Y.current)==null?void 0:b.x)??0)),y:Math.abs(Math.round(C.pageY)-(((j=Y.current)==null?void 0:j.y)??0))}},A=C=>{x.x<=10&&x.y<=10?C.preventDefault():v.contains(C.target)||z(!1),document.removeEventListener("pointermove",I),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",A,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",A,{capture:!0})}}},[v,z,Y]),n.useEffect(()=>{const x=()=>z(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[z]);const[xe,de]=pt(x=>{const I=U().filter(b=>!b.disabled),A=I.find(b=>b.ref.current===document.activeElement),C=mt(I,x,A);C&&setTimeout(()=>C.ref.current.focus())}),ge=n.useCallback((x,I,A)=>{const C=!W.current&&!A;(h.value!==void 0&&h.value===I||C)&&($(x),C&&(W.current=!0))},[h.value]),ve=n.useCallback(()=>v==null?void 0:v.focus(),[v]),re=n.useCallback((x,I,A)=>{const C=!W.current&&!A;(h.value!==void 0&&h.value===I||C)&&H(x)},[h.value]),ue=l==="popper"?Ne:qe,ie=ue===Ne?{side:a,sideOffset:d,align:u,alignOffset:f,arrowPadding:w,collisionBoundary:r,collisionPadding:g,sticky:S,hideWhenDetached:p,avoidCollisions:y}:{};return e.jsx(Ye,{scope:t,content:v,viewport:M,onViewportChange:le,itemRefCallback:ge,selectedItem:O,onItemLeave:ve,itemTextRefCallback:re,focusSelectedItem:D,selectedItemText:J,position:l,isPositioned:G,searchRef:xe,children:e.jsx(Ot,{as:fo,allowPinchZoom:!0,children:e.jsx(Bt,{asChild:!0,trapped:h.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:T(c,x=>{var I;(I=h.trigger)==null||I.focus({preventScroll:!0}),x.preventDefault()}),children:e.jsx(Vt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:m,onPointerDownOutside:i,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:x=>x.preventDefault(),...N,...ie,onPlaced:()=>F(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:T(N.onKeyDown,x=>{const I=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!I&&x.key.length===1&&de(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let C=U().filter(b=>!b.disabled).map(b=>b.ref.current);if(["ArrowUp","End"].includes(x.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const b=x.target,j=C.indexOf(b);C=C.slice(j+1)}setTimeout(()=>E(C)),x.preventDefault()}})})})})})})});Xe.displayName=mo;var ho="SelectItemAlignedPosition",qe=n.forwardRef((s,o)=>{const{__scopeSelect:t,onPlaced:l,...c}=s,m=q(ne,t),i=Z(ne,t),[a,d]=n.useState(null),[u,f]=n.useState(null),w=V(o,P=>f(P)),r=fe(t),g=n.useRef(!1),S=n.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:N,focusSelectedItem:h}=i,v=n.useCallback(()=>{if(m.trigger&&m.valueNode&&a&&u&&p&&y&&N){const P=m.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),$=m.valueNode.getBoundingClientRect(),J=N.getBoundingClientRect();if(m.dir!=="rtl"){const b=J.left-O.left,j=$.left-b,Q=P.left-j,ee=P.width+Q,Se=Math.max(ee,O.width),ye=window.innerWidth-L,we=Ae(j,[L,Math.max(L,ye-Se)]);a.style.minWidth=ee+"px",a.style.left=we+"px"}else{const b=O.right-J.right,j=window.innerWidth-$.right-b,Q=window.innerWidth-P.right-j,ee=P.width+Q,Se=Math.max(ee,O.width),ye=window.innerWidth-L,we=Ae(j,[L,Math.max(L,ye-Se)]);a.style.minWidth=ee+"px",a.style.right=we+"px"}const H=r(),U=window.innerHeight-L*2,G=p.scrollHeight,F=window.getComputedStyle(u),W=parseInt(F.borderTopWidth,10),E=parseInt(F.paddingTop,10),D=parseInt(F.borderBottomWidth,10),z=parseInt(F.paddingBottom,10),Y=W+E+G+z+D,xe=Math.min(y.offsetHeight*5,Y),de=window.getComputedStyle(p),ge=parseInt(de.paddingTop,10),ve=parseInt(de.paddingBottom,10),re=P.top+P.height/2-L,ue=U-re,ie=y.offsetHeight/2,x=y.offsetTop+ie,I=W+E+x,A=Y-I;if(I<=re){const b=H.length>0&&y===H[H.length-1].ref.current;a.style.bottom="0px";const j=u.clientHeight-p.offsetTop-p.offsetHeight,Q=Math.max(ue,ie+(b?ve:0)+j+D),ee=I+Q;a.style.height=ee+"px"}else{const b=H.length>0&&y===H[0].ref.current;a.style.top="0px";const Q=Math.max(re,W+p.offsetTop+(b?ge:0)+ie)+A;a.style.height=Q+"px",p.scrollTop=I-re+p.offsetTop}a.style.margin=`${L}px 0`,a.style.minHeight=xe+"px",a.style.maxHeight=U+"px",l==null||l(),requestAnimationFrame(()=>g.current=!0)}},[r,m.trigger,m.valueNode,a,u,p,y,N,m.dir,l]);X(()=>v(),[v]);const[k,M]=n.useState();X(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const le=n.useCallback(P=>{P&&S.current===!0&&(v(),h==null||h(),S.current=!1)},[v,h]);return e.jsx(go,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:le,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(R.div,{...c,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});qe.displayName=ho;var xo="SelectPopperPosition",Ne=n.forwardRef((s,o)=>{const{__scopeSelect:t,align:l="start",collisionPadding:c=L,...m}=s,i=he(t);return e.jsx(Ht,{...i,...m,ref:o,align:l,collisionPadding:c,style:{boxSizing:"border-box",...m.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ne.displayName=xo;var[go,Ee]=ae(ne,{}),Ce="SelectViewport",Ze=n.forwardRef((s,o)=>{const{__scopeSelect:t,nonce:l,...c}=s,m=Z(Ce,t),i=Ee(Ce,t),a=V(o,m.onViewportChange),d=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(me.Slot,{scope:t,children:e.jsx(R.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:T(c.onScroll,u=>{const f=u.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:r}=i;if(r!=null&&r.current&&w){const g=Math.abs(d.current-f.scrollTop);if(g>0){const S=window.innerHeight-L*2,p=parseFloat(w.style.minHeight),y=parseFloat(w.style.height),N=Math.max(p,y);if(N<S){const h=N+g,v=Math.min(S,h),k=h-v;w.style.height=v+"px",w.style.bottom==="0px"&&(f.scrollTop=k>0?k:0,w.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});Ze.displayName=Ce;var Je="SelectGroup",[vo,So]=ae(Je),yo=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s,c=Pe();return e.jsx(vo,{scope:t,id:c,children:e.jsx(R.div,{role:"group","aria-labelledby":c,...l,ref:o})})});yo.displayName=Je;var Qe="SelectLabel",et=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s,c=So(Qe,t);return e.jsx(R.div,{id:c.id,...l,ref:o})});et.displayName=Qe;var pe="SelectItem",[wo,tt]=ae(pe),ot=n.forwardRef((s,o)=>{const{__scopeSelect:t,value:l,disabled:c=!1,textValue:m,...i}=s,a=q(pe,t),d=Z(pe,t),u=a.value===l,[f,w]=n.useState(m??""),[r,g]=n.useState(!1),S=V(o,h=>{var v;return(v=d.itemRefCallback)==null?void 0:v.call(d,h,l,c)}),p=Pe(),y=n.useRef("touch"),N=()=>{c||(a.onValueChange(l),a.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(wo,{scope:t,value:l,disabled:c,textId:p,isSelected:u,onItemTextChange:n.useCallback(h=>{w(v=>v||((h==null?void 0:h.textContent)??"").trim())},[]),children:e.jsx(me.ItemSlot,{scope:t,value:l,disabled:c,textValue:f,children:e.jsx(R.div,{role:"option","aria-labelledby":p,"data-highlighted":r?"":void 0,"aria-selected":u&&r,"data-state":u?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...i,ref:S,onFocus:T(i.onFocus,()=>g(!0)),onBlur:T(i.onBlur,()=>g(!1)),onClick:T(i.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:T(i.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:T(i.onPointerDown,h=>{y.current=h.pointerType}),onPointerMove:T(i.onPointerMove,h=>{var v;y.current=h.pointerType,c?(v=d.onItemLeave)==null||v.call(d):y.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(i.onPointerLeave,h=>{var v;h.currentTarget===document.activeElement&&((v=d.onItemLeave)==null||v.call(d))}),onKeyDown:T(i.onKeyDown,h=>{var k;((k=d.searchRef)==null?void 0:k.current)!==""&&h.key===" "||(ro.includes(h.key)&&N(),h.key===" "&&h.preventDefault())})})})})});ot.displayName=pe;var ce="SelectItemText",st=n.forwardRef((s,o)=>{const{__scopeSelect:t,className:l,style:c,...m}=s,i=q(ce,t),a=Z(ce,t),d=tt(ce,t),u=co(ce,t),[f,w]=n.useState(null),r=V(o,N=>w(N),d.onItemTextChange,N=>{var h;return(h=a.itemTextRefCallback)==null?void 0:h.call(a,N,d.value,d.disabled)}),g=f==null?void 0:f.textContent,S=n.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return X(()=>(p(S),()=>y(S)),[p,y,S]),e.jsxs(e.Fragment,{children:[e.jsx(R.span,{id:d.textId,...m,ref:r}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Oe.createPortal(m.children,i.valueNode):null]})});st.displayName=ce;var nt="SelectItemIndicator",rt=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s;return tt(nt,t).isSelected?e.jsx(R.span,{"aria-hidden":!0,...l,ref:o}):null});rt.displayName=nt;var Ie="SelectScrollUpButton",at=n.forwardRef((s,o)=>{const t=Z(Ie,s.__scopeSelect),l=Ee(Ie,s.__scopeSelect),[c,m]=n.useState(!1),i=V(o,l.onScrollButtonChange);return X(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=d.scrollTop>0;m(u)};const d=t.viewport;return a(),d.addEventListener("scroll",a),()=>d.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),c?e.jsx(it,{...s,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:d}=t;a&&d&&(a.scrollTop=a.scrollTop-d.offsetHeight)}}):null});at.displayName=Ie;var _e="SelectScrollDownButton",lt=n.forwardRef((s,o)=>{const t=Z(_e,s.__scopeSelect),l=Ee(_e,s.__scopeSelect),[c,m]=n.useState(!1),i=V(o,l.onScrollButtonChange);return X(()=>{if(t.viewport&&t.isPositioned){let a=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;m(f)};const d=t.viewport;return a(),d.addEventListener("scroll",a),()=>d.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),c?e.jsx(it,{...s,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:d}=t;a&&d&&(a.scrollTop=a.scrollTop+d.offsetHeight)}}):null});lt.displayName=_e;var it=n.forwardRef((s,o)=>{const{__scopeSelect:t,onAutoScroll:l,...c}=s,m=Z("SelectScrollButton",t),i=n.useRef(null),a=fe(t),d=n.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return n.useEffect(()=>()=>d(),[d]),X(()=>{var f;const u=a().find(w=>w.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),e.jsx(R.div,{"aria-hidden":!0,...c,ref:o,style:{flexShrink:0,...c.style},onPointerDown:T(c.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(l,50))}),onPointerMove:T(c.onPointerMove,()=>{var u;(u=m.onItemLeave)==null||u.call(m),i.current===null&&(i.current=window.setInterval(l,50))}),onPointerLeave:T(c.onPointerLeave,()=>{d()})})}),bo="SelectSeparator",ct=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s;return e.jsx(R.div,{"aria-hidden":!0,...l,ref:o})});ct.displayName=bo;var Te="SelectArrow",jo=n.forwardRef((s,o)=>{const{__scopeSelect:t,...l}=s,c=he(t),m=q(Te,t),i=Z(Te,t);return m.open&&i.position==="popper"?e.jsx(Ut,{...c,...l,ref:o}):null});jo.displayName=Te;var No="SelectBubbleInput",dt=n.forwardRef(({__scopeSelect:s,value:o,...t},l)=>{const c=n.useRef(null),m=V(l,c),i=Gt(o);return n.useEffect(()=>{const a=c.current;if(!a)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&f){const w=new Event("change",{bubbles:!0});f.call(a,o),a.dispatchEvent(w)}},[i,o]),e.jsx(R.select,{...t,style:{...Et,...t.style},ref:m,defaultValue:o})});dt.displayName=No;function ut(s){return s===""||s===void 0}function pt(s){const o=kt(s),t=n.useRef(""),l=n.useRef(0),c=n.useCallback(i=>{const a=t.current+i;o(a),function d(u){t.current=u,window.clearTimeout(l.current),u!==""&&(l.current=window.setTimeout(()=>d(""),1e3))}(a)},[o]),m=n.useCallback(()=>{t.current="",window.clearTimeout(l.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(l.current),[]),[t,c,m]}function mt(s,o,t){const c=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,m=t?s.indexOf(t):-1;let i=Co(s,Math.max(m,0));c.length===1&&(i=i.filter(u=>u!==t));const d=i.find(u=>u.textValue.toLowerCase().startsWith(c.toLowerCase()));return d!==t?d:void 0}function Co(s,o){return s.map((t,l)=>s[(o+l)%s.length])}var Io=He,ft=Fe,_o=ze,To=Ke,Po=$e,ht=Ge,Eo=Ze,xt=et,gt=ot,Ro=st,Ao=rt,vt=at,St=lt,yt=ct;const ko=Io,Mo=_o,wt=n.forwardRef(({className:s,children:o,...t},l)=>e.jsxs(ft,{ref:l,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[o,e.jsx(To,{asChild:!0,children:e.jsx(De,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=ft.displayName;const bt=n.forwardRef(({className:s,...o},t)=>e.jsx(vt,{ref:t,className:K("flex cursor-default items-center justify-center py-1",s),...o,children:e.jsx(eo,{className:"h-4 w-4"})}));bt.displayName=vt.displayName;const jt=n.forwardRef(({className:s,...o},t)=>e.jsx(St,{ref:t,className:K("flex cursor-default items-center justify-center py-1",s),...o,children:e.jsx(De,{className:"h-4 w-4"})}));jt.displayName=St.displayName;const Nt=n.forwardRef(({className:s,children:o,position:t="popper",...l},c)=>e.jsx(Po,{children:e.jsxs(ht,{ref:c,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...l,children:[e.jsx(bt,{}),e.jsx(Eo,{className:K("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),e.jsx(jt,{})]})}));Nt.displayName=ht.displayName;const Lo=n.forwardRef(({className:s,...o},t)=>e.jsx(xt,{ref:t,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...o}));Lo.displayName=xt.displayName;const Ct=n.forwardRef(({className:s,children:o,...t},l)=>e.jsxs(gt,{ref:l,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ao,{children:e.jsx(Yt,{className:"h-4 w-4"})})}),e.jsx(Ro,{children:o})]}));Ct.displayName=gt.displayName;const Oo=n.forwardRef(({className:s,...o},t)=>e.jsx(yt,{ref:t,className:K("-mx-1 my-1 h-px bg-muted",s),...o}));Oo.displayName=yt.displayName;const te=({children:s})=>e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:s}),B=({label:s,value:o,placeholder:t,type:l="text",onSave:c})=>{const[m,i]=n.useState(!1),[a,d]=n.useState(o||"");return n.useEffect(()=>d(o||""),[o]),e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:s}),m?e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(Kt,{value:a,onChange:u=>d(u.target.value),placeholder:t,type:l,className:"max-w-md"}),e.jsx(oe,{size:"sm",onClick:async()=>{await c(a.trim()),i(!1)},children:"Save"}),e.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{d(o||""),i(!1)},children:"Cancel"})]}):e.jsx("div",{className:"font-medium text-gray-900",children:o||"Not provided"})]}),!m&&e.jsx("button",{onClick:()=>i(!0),className:"text-sm font-medium text-gray-900 hover:underline",children:o?"Edit":"Add"})]})})},je=({label:s,value:o,options:t,onSave:l})=>{var u;const[c,m]=n.useState(!1),[i,a]=n.useState(o||"");n.useEffect(()=>a(o||""),[o]);const d=((u=t.find(f=>f.value===o))==null?void 0:u.label)||o||"Not provided";return e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:s}),c?e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs(ko,{value:i,onValueChange:a,children:[e.jsx(wt,{className:"w-56",children:e.jsx(Mo,{placeholder:"Select"})}),e.jsx(Nt,{children:t.map(f=>e.jsx(Ct,{value:f.value,children:f.label},f.value))})]}),e.jsx(oe,{size:"sm",onClick:async()=>{await l(i),m(!1)},children:"Save"}),e.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>{a(o||""),m(!1)},children:"Cancel"})]}):e.jsx("div",{className:"font-medium text-gray-900",children:d})]}),!c&&e.jsx("button",{onClick:()=>m(!0),className:"text-sm font-medium text-gray-900 hover:underline",children:o?"Edit":"Add"})]})})},ss=()=>{const[s,o]=n.useState(null),[t,l]=n.useState(!0),[c,m]=n.useState(null),i=Ft(),[a]=Wt();n.useEffect(()=>{(async()=>{try{const r=await ke(),g=localStorage.getItem("host_location"),S=localStorage.getItem("host_languages"),p=localStorage.getItem("host_avatar");r.profile&&(g&&(r.profile.location=g),S&&(r.profile.languages_spoken=S)),o(r),m(null)}catch(r){let g="Failed to load account";if(r&&typeof r=="object"&&"response"in r){const S=r.response,p=S==null?void 0:S.data;g=(p==null?void 0:p.error)||(p==null?void 0:p.message)||g}else r instanceof Error&&(g=r.message);m(g)}finally{l(!1)}})()},[]),n.useEffect(()=>{if(a.get("tab")==="languages"){const g=document.getElementById("languages-section");g&&g.scrollIntoView({behavior:"smooth",block:"start"})}},[a]);const d=[{id:"personal",label:"Personal information"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy"},{id:"taxes",label:"Taxes"},{id:"payments",label:"Payments"},{id:"languages",label:"Languages & currency"},{id:"travel",label:"Travel for work"}];if(t)return e.jsx(zt,{fullScreen:!0,message:"Loading account..."});if(!s)return e.jsx("div",{className:"p-6",children:c||"Unable to load account."});const u=s.profile||{},f=async r=>{r.location!==void 0&&localStorage.setItem("host_location",r.location),r.languages_spoken!==void 0&&localStorage.setItem("host_languages",r.languages_spoken),await Xt(r);const g=await ke(),S=localStorage.getItem("host_location"),p=localStorage.getItem("host_languages");g.profile&&(S&&(g.profile.location=S),p&&(g.profile.languages_spoken=p)),o(g)},w=r=>{var S;const g=(S=r.target.files)==null?void 0:S[0];if(g){const p=new FileReader;p.onloadend=()=>{const y=p.result;localStorage.setItem("host_avatar",y),window.location.reload()},p.readAsDataURL(g)}};return e.jsxs("div",{className:"min-h-screen bg-white pb-20 md:pb-0",children:[e.jsx(qt,{title:"Account Settings",description:"Manage your personal information and preferences."}),e.jsx(Zt,{}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-6 pt-10 md:pt-20",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsx("aside",{className:"md:col-span-1 space-y-2",children:d.map((r,g)=>e.jsx("button",{onClick:()=>{const S=document.getElementById(`${r.id}-section`);S&&S.scrollIntoView({behavior:"smooth",block:"start"})},className:`w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 ${g===0?"bg-gray-100 font-semibold":""}`,children:r.label},r.id))}),e.jsxs("main",{className:"md:col-span-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>i(-1),className:"rounded-full shrink-0","aria-label":"Go back",children:e.jsx(Qt,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center justify-between flex-1",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Personal information"}),e.jsx(oe,{variant:"outline",onClick:()=>i(-1),children:"Done"})]})]}),e.jsxs("div",{id:"personal-section",className:"bg-white border border-gray-200 rounded-xl p-4",children:[e.jsx(te,{children:"Personal information"}),e.jsx(_,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Profile Picture"}),e.jsx("div",{className:"mt-2",children:localStorage.getItem("host_avatar")?e.jsx("img",{src:localStorage.getItem("host_avatar"),alt:"Profile",className:"h-16 w-16 rounded-full object-cover"}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:"No Img"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsx(oe,{variant:"outline",size:"sm",children:"Upload"})]})]}),e.jsx(_,{}),e.jsx(B,{label:"Legal name",value:u.legal_name||void 0,onSave:r=>f({legal_name:r})}),e.jsx(_,{}),e.jsx(B,{label:"Preferred first name",value:u.preferred_first_name||void 0,onSave:r=>f({preferred_first_name:r})}),e.jsx(_,{}),e.jsx(B,{label:"Email address",value:s.user.email,type:"email",onSave:r=>f({email:r})}),e.jsx(_,{}),e.jsx(B,{label:"Phone numbers",value:u.phone||void 0,type:"tel",onSave:r=>f({phone:r})}),e.jsx(_,{}),e.jsx(B,{label:"Residential address",value:u.residential_address||void 0,onSave:r=>f({residential_address:r})}),e.jsx(_,{}),e.jsx(B,{label:"Mailing address",value:u.mailing_address||void 0,onSave:r=>f({mailing_address:r})}),e.jsx(_,{}),e.jsx(B,{label:"Where I live",value:u.location||void 0,onSave:r=>f({location:r})}),e.jsx(_,{}),e.jsx(B,{label:"Languages I speak",value:u.languages_spoken||void 0,onSave:r=>f({languages_spoken:r})})]}),e.jsxs("div",{id:"notifications-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(te,{children:"Notifications"}),e.jsx(_,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Email notifications"}),e.jsx("div",{className:"font-medium text-gray-900",children:"Receive updates by email"})]}),e.jsx(be,{checked:!!u.notify_email,onCheckedChange:r=>f({notify_email:r})})]}),e.jsx(_,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"SMS notifications"}),e.jsx("div",{className:"font-medium text-gray-900",children:"Receive updates by SMS"})]}),e.jsx(be,{checked:!!u.notify_sms,onCheckedChange:r=>f({notify_sms:r})})]})]}),e.jsxs("div",{id:"privacy-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(te,{children:"Privacy"}),e.jsx(_,{}),e.jsx(je,{label:"Profile visibility",value:u.privacy_profile_visibility||void 0,options:[{value:"everyone",label:"Everyone"},{value:"guests",label:"Guests"},{value:"private",label:"Only me"}],onSave:r=>f({privacy_profile_visibility:r})})]}),e.jsxs("div",{id:"taxes-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(te,{children:"Taxes"}),e.jsx(_,{}),e.jsx(B,{label:"Tax ID",value:u.tax_id||void 0,onSave:r=>f({tax_id:r})})]}),e.jsxs("div",{id:"payments-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(te,{children:"Payments"}),e.jsx(_,{}),e.jsx(B,{label:"Payout method",value:u.payout_method||void 0,onSave:r=>f({payout_method:r})})]}),e.jsxs("div",{id:"languages-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(te,{children:"Languages & currency"}),e.jsx(_,{}),e.jsx(je,{label:"Language",value:u.language||void 0,options:[{value:"en",label:"English"},{value:"fr",label:"Français"}],onSave:r=>f({language:r})}),e.jsx(_,{}),e.jsx(je,{label:"Currency",value:u.currency||"XAF",options:[{value:"XAF",label:"FCFA (XAF)"},{value:"USD",label:"USD"},{value:"EUR",label:"EUR"}],onSave:r=>f({currency:r})})]}),e.jsxs("div",{id:"travel-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(te,{children:"Travel for work"}),e.jsx(_,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Enable travel for work"}),e.jsx("div",{className:"font-medium text-gray-900",children:"Show business travel tools"})]}),e.jsx(be,{checked:!!u.travel_for_work,onCheckedChange:r=>f({travel_for_work:r})})]})]})]})]})}),e.jsx(Jt,{})]})};export{ss as default};
