import{j as e,c as s,d as t,P as r,b as o,u as a,e as n,a3 as i,al as c,ag as l,J as d}from"./vendor-ui-DcvuiMJW.js";import{r as u,e as m}from"./vendor-react-CPc5zwff.js";import{a6 as h,c as f,a5 as p,B as x}from"./index-Dd0d9_cy.js";import{T as b}from"./textarea-DNSr1HFY.js";import{u as k}from"./index-DzSp3nwJ.js";import{L as v}from"./label-BoX00Od0.js";import{u as j}from"./useTranslation-BTMhbqKL.js";import"./vendor-charts-CNjKuHaK.js";import"./vendor-utils-tyqSID0v.js";var g="Checkbox",[y]=s(g),[C,N]=y(g);function _(s){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:n,disabled:i,form:c,name:l,onCheckedChange:d,required:m,value:h="on",internal_do_not_use_render:f}=s,[p,x]=o({prop:r,defaultProp:n??!1,onChange:d,caller:g}),[b,k]=u.useState(null),[v,j]=u.useState(null),y=u.useRef(!1),N=!b||(!!c||!!b.closest("form")),_={checked:p,disabled:i,setChecked:x,control:b,setControl:k,name:l,form:c,value:h,hasConsumerStoppedPropagationRef:y,required:m,defaultChecked:!F(n)&&n,isFormControl:N,bubbleInput:v,setBubbleInput:j};return e.jsx(C,{scope:t,..._,children:D(f)?f(_):a})}var w="CheckboxTrigger",R=u.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:o,...i},c)=>{const{control:l,value:d,disabled:m,checked:h,required:f,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:b,isFormControl:k,bubbleInput:v}=N(w,s),j=a(c,p),g=u.useRef(h);return u.useEffect(()=>{const e=null==l?void 0:l.form;if(e){const s=()=>x(g.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[l,x]),e.jsx(r.button,{type:"button",role:"checkbox","aria-checked":F(h)?"mixed":h,"aria-required":f,"data-state":T(h),"data-disabled":m?"":void 0,disabled:m,value:d,...i,ref:j,onKeyDown:n(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:n(o,e=>{x(e=>!!F(e)||!e),v&&k&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});R.displayName=w;var S=u.forwardRef((s,t)=>{const{__scopeCheckbox:r,name:o,checked:a,defaultChecked:n,required:i,disabled:c,value:l,onCheckedChange:d,form:u,...m}=s;return e.jsx(_,{__scopeCheckbox:r,checked:a,defaultChecked:n,disabled:c,required:i,onCheckedChange:d,name:o,form:u,value:l,internal_do_not_use_render:({isFormControl:s})=>e.jsxs(e.Fragment,{children:[e.jsx(R,{...m,ref:t,__scopeCheckbox:r}),s&&e.jsx(q,{__scopeCheckbox:r})]})})});S.displayName=g;var P="CheckboxIndicator",E=u.forwardRef((s,o)=>{const{__scopeCheckbox:a,forceMount:n,...i}=s,c=N(P,a);return e.jsx(t,{present:n||F(c.checked)||!0===c.checked,children:e.jsx(r.span,{"data-state":T(c.checked),"data-disabled":c.disabled?"":void 0,...i,ref:o,style:{pointerEvents:"none",...s.style}})})});E.displayName=P;var I="CheckboxBubbleInput",q=u.forwardRef(({__scopeCheckbox:s,...t},o)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:l,required:d,disabled:m,name:f,value:p,form:x,bubbleInput:b,setBubbleInput:v}=N(I,s),j=a(o,v),g=k(c),y=h(n);u.useEffect(()=>{const e=b;if(!e)return;const s=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(s,"checked").set,r=!i.current;if(g!==c&&t){const s=new Event("click",{bubbles:r});e.indeterminate=F(c),t.call(e,!F(c)&&c),e.dispatchEvent(s)}},[b,g,c,i]);const C=u.useRef(!F(c)&&c);return e.jsx(r.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,required:d,disabled:m,name:f,value:p,form:x,...t,tabIndex:-1,ref:j,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function D(e){return"function"==typeof e}function F(e){return"indeterminate"===e}function T(e){return F(e)?"indeterminate":e?"checked":"unchecked"}q.displayName=I;const H=u.forwardRef(({className:s,...t},r)=>e.jsx(S,{ref:r,className:f("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:e.jsx(E,{className:f("flex items-center justify-center text-current"),children:e.jsx(i,{className:"h-4 w-4"})})}));H.displayName=S.displayName;const M=[{id:"smoke_alarm",label:"Smoke alarm",icon:c},{id:"carbon_monoxide_alarm",label:"Carbon monoxide alarm",icon:c},{id:"fire_extinguisher",label:"Fire extinguisher",icon:l},{id:"first_aid_kit",label:"First aid kit",icon:d}],B=()=>{const s=m(),{t:t}=j(),{draft:r,updateDraft:o,nextStep:a,previousStep:n}=p(),[i,c]=u.useState(r.safetyDevices||[]),[l,d]=u.useState(r.houseRules||"");return e.jsx("div",{className:"min-h-screen bg-background p-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:t("host.safety.title","Safety and house rules")}),e.jsx("p",{className:"text-muted-foreground text-lg",children:t("host.safety.subtitle","Help guests feel safe and know what to expect")})]}),e.jsxs("div",{className:"mb-8 p-6 border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("host.safety.devicesTitle","Safety devices")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("host.safety.devicesHelp","Select all safety devices available at your property")}),e.jsx("div",{className:"space-y-3",children:M.map(s=>{const r=s.icon,o=i.includes(s.id);return e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-accent",children:[e.jsx(H,{id:s.id,checked:o,onCheckedChange:()=>{return e=s.id,void c(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]);var e}}),e.jsxs(v,{htmlFor:s.id,className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(r,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{children:t(`amenities.${s.id}`,s.label)})]})]},s.id)})})]}),e.jsxs("div",{className:"mb-8 p-6 border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("host.safety.houseRulesTitle","House rules")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("host.safety.houseRulesHelp","Set clear expectations for your guests")}),e.jsx(b,{value:l,onChange:e=>d(e.target.value),placeholder:t("host.safety.houseRulesPlaceholder","e.g., No smoking, No pets, No parties or events, Quiet hours: 10 PM - 8 AM"),className:"min-h-[150px]"}),e.jsxs("div",{className:"mt-4 bg-muted p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:t("host.safety.commonRulesTitle","Common house rules:")}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",t("host.safety.rules.noSmoking","No smoking")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.noPets","No pets")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.noParties","No parties or events")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.quietHours","Quiet hours (e.g., 10 PM - 8 AM)")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.checkInOut","Check-in/check-out times")]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-12 pt-6 border-t",children:[e.jsx(x,{variant:"outline",onClick:()=>{o({safetyDevices:i,houseRules:l}),n(),s("/host/pricing")},children:t("common.back","Back")}),e.jsx(x,{onClick:()=>{o({safetyDevices:i,houseRules:l}),a(),s("/host/preview")},size:"lg",children:t("common.continue","Continue")})]}),e.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:t("common.stepOf","Step {{current}} of {{total}}",{current:8,total:9})})]})})};export{B as default};
