import{j as e,P as t,a1 as a,b as n,c as o,s as l,a as s,u as r,h as i,e as c,g as d,f as u,t as p,x as m,v as f,w as v,F as h,D as x,a2 as g,a3 as y,a4 as j,r as w}from"./vendor-ui-DcvuiMJW.js";import{r as b,a as S,e as N,j as C}from"./vendor-react-CPc5zwff.js";import{L as _}from"./Loading-CC70LVJ3.js";import{c as k,a as I,R as P,V as R,A as E,C as T,d as D,B as L}from"./index-Dd0d9_cy.js";import{I as M}from"./input-aNpEl8VP.js";import{c as A}from"./index-jVOyRz7F.js";import{u as O}from"./index-DzSp3nwJ.js";import{S as H}from"./switch-PAuEr7PX.js";import{g as V,u as F}from"./accountService-vaNt7cO5.js";import{S as B,H as z}from"./Header-C1YZcuTT.js";import{M as K}from"./MobileNav-Dn4rtq4e.js";import"./vendor-charts-CNjKuHaK.js";import"./vendor-utils-tyqSID0v.js";import"./LanguageSwitcher-DhNIQqEN.js";import"./index-B9HPLTtY.js";import"./useTranslation-BTMhbqKL.js";var U="horizontal",W=["horizontal","vertical"],q=b.forwardRef((a,n)=>{const{decorative:o,orientation:l=U,...s}=a,r=function(e){return W.includes(e)}(l)?l:U,i=o?{role:"none"}:{"aria-orientation":"vertical"===r?r:void 0,role:"separator"};return e.jsx(t.div,{"data-orientation":r,...i,...s,ref:n})});q.displayName="Separator";var X=q;const G=b.forwardRef(({className:t,orientation:a="horizontal",decorative:n=!0,...o},l)=>e.jsx(X,{ref:l,decorative:n,orientation:a,className:k("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",t),...o}));G.displayName=X.displayName;var Y=[" ","Enter","ArrowUp","ArrowDown"],Z=[" ","Enter"],$="Select",[J,Q,ee]=s($),[te]=o($,[ee,I]),ae=I(),[ne,oe]=te($),[le,se]=te($),re=t=>{const{__scopeSelect:o,children:s,open:r,defaultOpen:i,onOpenChange:c,value:d,defaultValue:u,onValueChange:p,dir:m,name:f,autoComplete:v,disabled:h,required:x,form:g}=t,y=ae(o),[j,w]=b.useState(null),[S,N]=b.useState(null),[C,_]=b.useState(!1),k=a(m),[I,R]=n({prop:r,defaultProp:i??!1,onChange:c,caller:$}),[E,T]=n({prop:d,defaultProp:u,onChange:p,caller:$}),D=b.useRef(null),L=!j||(g||!!j.closest("form")),[M,A]=b.useState(new Set),O=Array.from(M).map(e=>e.props.value).join(";");return e.jsx(P,{...y,children:e.jsxs(ne,{required:x,scope:o,trigger:j,onTriggerChange:w,valueNode:S,onValueNodeChange:N,valueNodeHasChildren:C,onValueNodeHasChildrenChange:_,contentId:l(),value:E,onValueChange:T,open:I,onOpenChange:R,dir:k,triggerPointerDownPosRef:D,disabled:h,children:[e.jsx(J.Provider,{scope:o,children:e.jsx(le,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:b.useCallback(e=>{A(t=>{const a=new Set(t);return a.delete(e),a})},[]),children:s})}),L?e.jsxs(Xe,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:v,value:E,onChange:e=>T(e.target.value),disabled:h,form:g,children:[void 0===E?e.jsx("option",{value:""}):null,Array.from(M)]},O):null]})})};re.displayName=$;var ie="SelectTrigger",ce=b.forwardRef((a,n)=>{const{__scopeSelect:o,disabled:l=!1,...s}=a,i=ae(o),d=oe(ie,o),u=d.disabled||l,p=r(n,d.onTriggerChange),m=Q(o),f=b.useRef("touch"),[v,h,x]=Ye(e=>{const t=m().filter(e=>!e.disabled),a=t.find(e=>e.value===d.value),n=Ze(t,e,a);void 0!==n&&d.onValueChange(n.value)}),g=e=>{u||(d.onOpenChange(!0),x()),e&&(d.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return e.jsx(E,{asChild:!0,...i,children:e.jsx(t.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Ge(d.value)?"":void 0,...s,ref:p,onClick:c(s.onClick,e=>{e.currentTarget.focus(),"mouse"!==f.current&&g(e)}),onPointerDown:c(s.onPointerDown,e=>{f.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:c(s.onKeyDown,e=>{const t=""!==v.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||Y.includes(e.key)&&(g(),e.preventDefault())})})})});ce.displayName=ie;var de="SelectValue",ue=b.forwardRef((a,n)=>{const{__scopeSelect:o,className:l,style:s,children:c,placeholder:d="",...u}=a,p=oe(de,o),{onValueNodeHasChildrenChange:m}=p,f=void 0!==c,v=r(n,p.onValueNodeChange);return i(()=>{m(f)},[m,f]),e.jsx(t.span,{...u,ref:v,style:{pointerEvents:"none"},children:Ge(p.value)?e.jsx(e.Fragment,{children:d}):c})});ue.displayName=de;var pe=b.forwardRef((a,n)=>{const{__scopeSelect:o,children:l,...s}=a;return e.jsx(t.span,{"aria-hidden":!0,...s,ref:n,children:l||"▼"})});pe.displayName="SelectIcon";var me=t=>e.jsx(d,{asChild:!0,...t});me.displayName="SelectPortal";var fe="SelectContent",ve=b.forwardRef((t,a)=>{const n=oe(fe,t.__scopeSelect),[o,l]=b.useState();if(i(()=>{l(new DocumentFragment)},[]),!n.open){const a=o;return a?S.createPortal(e.jsx(xe,{scope:t.__scopeSelect,children:e.jsx(J.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),a):null}return e.jsx(je,{...t,ref:a})});ve.displayName=fe;var he=10,[xe,ge]=te(fe),ye=v("SelectContent.RemoveScroll"),je=b.forwardRef((t,a)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:s,onPointerDownOutside:i,side:d,sideOffset:u,align:v,alignOffset:g,arrowPadding:y,collisionBoundary:j,collisionPadding:w,sticky:S,hideWhenDetached:N,avoidCollisions:C,..._}=t,k=oe(fe,n),[I,P]=b.useState(null),[R,E]=b.useState(null),T=r(a,e=>P(e)),[D,L]=b.useState(null),[M,A]=b.useState(null),O=Q(n),[H,V]=b.useState(!1),F=b.useRef(!1);b.useEffect(()=>{if(I)return p(I)},[I]),m();const B=b.useCallback(e=>{const[t,...a]=O().map(e=>e.ref.current),[n]=a.slice(-1),o=document.activeElement;for(const l of e){if(l===o)return;if(null==l||l.scrollIntoView({block:"nearest"}),l===t&&R&&(R.scrollTop=0),l===n&&R&&(R.scrollTop=R.scrollHeight),null==l||l.focus(),document.activeElement!==o)return}},[O,R]),z=b.useCallback(()=>B([D,I]),[B,D,I]);b.useEffect(()=>{H&&z()},[H,z]);const{onOpenChange:K,triggerPointerDownPosRef:U}=k;b.useEffect(()=>{if(I){let e={x:0,y:0};const t=t=>{var a,n;e={x:Math.abs(Math.round(t.pageX)-((null==(a=U.current)?void 0:a.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(n=U.current)?void 0:n.y)??0))}},a=a=>{e.x<=10&&e.y<=10?a.preventDefault():I.contains(a.target)||K(!1),document.removeEventListener("pointermove",t),U.current=null};return null!==U.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",a,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",a,{capture:!0})}}},[I,K,U]),b.useEffect(()=>{const e=()=>K(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[K]);const[W,q]=Ye(e=>{const t=O().filter(e=>!e.disabled),a=t.find(e=>e.ref.current===document.activeElement),n=Ze(t,e,a);n&&setTimeout(()=>n.ref.current.focus())}),X=b.useCallback((e,t,a)=>{const n=!F.current&&!a;(void 0!==k.value&&k.value===t||n)&&(L(e),n&&(F.current=!0))},[k.value]),G=b.useCallback(()=>null==I?void 0:I.focus(),[I]),Y=b.useCallback((e,t,a)=>{const n=!F.current&&!a;(void 0!==k.value&&k.value===t||n)&&A(e)},[k.value]),Z="popper"===o?be:we,$=Z===be?{side:d,sideOffset:u,align:v,alignOffset:g,arrowPadding:y,collisionBoundary:j,collisionPadding:w,sticky:S,hideWhenDetached:N,avoidCollisions:C}:{};return e.jsx(xe,{scope:n,content:I,viewport:R,onViewportChange:E,itemRefCallback:X,selectedItem:D,onItemLeave:G,itemTextRefCallback:Y,focusSelectedItem:z,selectedItemText:M,position:o,isPositioned:H,searchRef:W,children:e.jsx(f,{as:ye,allowPinchZoom:!0,children:e.jsx(h,{asChild:!0,trapped:k.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:c(l,e=>{var t;null==(t=k.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:e.jsx(x,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:e.jsx(Z,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:e=>e.preventDefault(),..._,...$,onPlaced:()=>V(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:c(_.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=O().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const a=e.target,n=t.indexOf(a);t=t.slice(n+1)}setTimeout(()=>B(t)),e.preventDefault()}})})})})})})});je.displayName="SelectContentImpl";var we=b.forwardRef((a,n)=>{const{__scopeSelect:o,onPlaced:l,...s}=a,c=oe(fe,o),d=ge(fe,o),[u,p]=b.useState(null),[m,f]=b.useState(null),v=r(n,e=>f(e)),h=Q(o),x=b.useRef(!1),g=b.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:w,focusSelectedItem:S}=d,N=b.useCallback(()=>{if(c.trigger&&c.valueNode&&u&&m&&y&&j&&w){const e=c.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),a=c.valueNode.getBoundingClientRect(),n=w.getBoundingClientRect();if("rtl"!==c.dir){const o=n.left-t.left,l=a.left-o,s=e.left-l,r=e.width+s,i=Math.max(r,t.width),c=window.innerWidth-he,d=A(l,[he,Math.max(he,c-i)]);u.style.minWidth=r+"px",u.style.left=d+"px"}else{const o=t.right-n.right,l=window.innerWidth-a.right-o,s=window.innerWidth-e.right-l,r=e.width+s,i=Math.max(r,t.width),c=window.innerWidth-he,d=A(l,[he,Math.max(he,c-i)]);u.style.minWidth=r+"px",u.style.right=d+"px"}const o=h(),s=window.innerHeight-2*he,r=y.scrollHeight,i=window.getComputedStyle(m),d=parseInt(i.borderTopWidth,10),p=parseInt(i.paddingTop,10),f=parseInt(i.borderBottomWidth,10),v=d+p+r+parseInt(i.paddingBottom,10)+f,g=Math.min(5*j.offsetHeight,v),b=window.getComputedStyle(y),S=parseInt(b.paddingTop,10),N=parseInt(b.paddingBottom,10),C=e.top+e.height/2-he,_=s-C,k=j.offsetHeight/2,I=d+p+(j.offsetTop+k),P=v-I;if(I<=C){const e=o.length>0&&j===o[o.length-1].ref.current;u.style.bottom="0px";const t=m.clientHeight-y.offsetTop-y.offsetHeight,a=I+Math.max(_,k+(e?N:0)+t+f);u.style.height=a+"px"}else{const e=o.length>0&&j===o[0].ref.current;u.style.top="0px";const t=Math.max(C,d+y.offsetTop+(e?S:0)+k)+P;u.style.height=t+"px",y.scrollTop=I-C+y.offsetTop}u.style.margin=`${he}px 0`,u.style.minHeight=g+"px",u.style.maxHeight=s+"px",null==l||l(),requestAnimationFrame(()=>x.current=!0)}},[h,c.trigger,c.valueNode,u,m,y,j,w,c.dir,l]);i(()=>N(),[N]);const[C,_]=b.useState();i(()=>{m&&_(window.getComputedStyle(m).zIndex)},[m]);const k=b.useCallback(e=>{e&&!0===g.current&&(N(),null==S||S(),g.current=!1)},[N,S]);return e.jsx(Se,{scope:o,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:k,children:e.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:e.jsx(t.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});we.displayName="SelectItemAlignedPosition";var be=b.forwardRef((t,a)=>{const{__scopeSelect:n,align:o="start",collisionPadding:l=he,...s}=t,r=ae(n);return e.jsx(T,{...r,...s,ref:a,align:o,collisionPadding:l,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});be.displayName="SelectPopperPosition";var[Se,Ne]=te(fe,{}),Ce="SelectViewport",_e=b.forwardRef((a,n)=>{const{__scopeSelect:o,nonce:l,...s}=a,i=ge(Ce,o),d=Ne(Ce,o),u=r(n,i.onViewportChange),p=b.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(J.Slot,{scope:o,children:e.jsx(t.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:c(s.onScroll,e=>{const t=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:n}=d;if((null==n?void 0:n.current)&&a){const e=Math.abs(p.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*he,o=parseFloat(a.style.minHeight),l=parseFloat(a.style.height),s=Math.max(o,l);if(s<n){const o=s+e,l=Math.min(n,o),r=o-l;a.style.height=l+"px","0px"===a.style.bottom&&(t.scrollTop=r>0?r:0,a.style.justifyContent="flex-end")}}}p.current=t.scrollTop})})})]})});_e.displayName=Ce;var ke="SelectGroup",[Ie,Pe]=te(ke);b.forwardRef((a,n)=>{const{__scopeSelect:o,...s}=a,r=l();return e.jsx(Ie,{scope:o,id:r,children:e.jsx(t.div,{role:"group","aria-labelledby":r,...s,ref:n})})}).displayName=ke;var Re="SelectLabel",Ee=b.forwardRef((a,n)=>{const{__scopeSelect:o,...l}=a,s=Pe(Re,o);return e.jsx(t.div,{id:s.id,...l,ref:n})});Ee.displayName=Re;var Te="SelectItem",[De,Le]=te(Te),Me=b.forwardRef((a,n)=>{const{__scopeSelect:o,value:s,disabled:i=!1,textValue:d,...u}=a,p=oe(Te,o),m=ge(Te,o),f=p.value===s,[v,h]=b.useState(d??""),[x,g]=b.useState(!1),y=r(n,e=>{var t;return null==(t=m.itemRefCallback)?void 0:t.call(m,e,s,i)}),j=l(),w=b.useRef("touch"),S=()=>{i||(p.onValueChange(s),p.onOpenChange(!1))};if(""===s)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(De,{scope:o,value:s,disabled:i,textId:j,isSelected:f,onItemTextChange:b.useCallback(e=>{h(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:e.jsx(J.ItemSlot,{scope:o,value:s,disabled:i,textValue:v,children:e.jsx(t.div,{role:"option","aria-labelledby":j,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:y,onFocus:c(u.onFocus,()=>g(!0)),onBlur:c(u.onBlur,()=>g(!1)),onClick:c(u.onClick,()=>{"mouse"!==w.current&&S()}),onPointerUp:c(u.onPointerUp,()=>{"mouse"===w.current&&S()}),onPointerDown:c(u.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:c(u.onPointerMove,e=>{var t;w.current=e.pointerType,i?null==(t=m.onItemLeave)||t.call(m):"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:c(u.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=m.onItemLeave)||t.call(m))}),onKeyDown:c(u.onKeyDown,e=>{var t;""!==(null==(t=m.searchRef)?void 0:t.current)&&" "===e.key||(Z.includes(e.key)&&S()," "===e.key&&e.preventDefault())})})})})});Me.displayName=Te;var Ae="SelectItemText",Oe=b.forwardRef((a,n)=>{const{__scopeSelect:o,className:l,style:s,...c}=a,d=oe(Ae,o),u=ge(Ae,o),p=Le(Ae,o),m=se(Ae,o),[f,v]=b.useState(null),h=r(n,e=>v(e),p.onItemTextChange,e=>{var t;return null==(t=u.itemTextRefCallback)?void 0:t.call(u,e,p.value,p.disabled)}),x=null==f?void 0:f.textContent,g=b.useMemo(()=>e.jsx("option",{value:p.value,disabled:p.disabled,children:x},p.value),[p.disabled,p.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=m;return i(()=>(y(g),()=>j(g)),[y,j,g]),e.jsxs(e.Fragment,{children:[e.jsx(t.span,{id:p.textId,...c,ref:h}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?S.createPortal(c.children,d.valueNode):null]})});Oe.displayName=Ae;var He="SelectItemIndicator",Ve=b.forwardRef((a,n)=>{const{__scopeSelect:o,...l}=a;return Le(He,o).isSelected?e.jsx(t.span,{"aria-hidden":!0,...l,ref:n}):null});Ve.displayName=He;var Fe="SelectScrollUpButton",Be=b.forwardRef((t,a)=>{const n=ge(Fe,t.__scopeSelect),o=Ne(Fe,t.__scopeSelect),[l,s]=b.useState(!1),c=r(a,o.onScrollButtonChange);return i(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),l?e.jsx(Ue,{...t,ref:c,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});Be.displayName=Fe;var ze="SelectScrollDownButton",Ke=b.forwardRef((t,a)=>{const n=ge(ze,t.__scopeSelect),o=Ne(ze,t.__scopeSelect),[l,s]=b.useState(!1),c=r(a,o.onScrollButtonChange);return i(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,a=Math.ceil(t.scrollTop)<e;s(a)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),l?e.jsx(Ue,{...t,ref:c,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});Ke.displayName=ze;var Ue=b.forwardRef((a,n)=>{const{__scopeSelect:o,onAutoScroll:l,...s}=a,r=ge("SelectScrollButton",o),d=b.useRef(null),u=Q(o),p=b.useCallback(()=>{null!==d.current&&(window.clearInterval(d.current),d.current=null)},[]);return b.useEffect(()=>()=>p(),[p]),i(()=>{var e;const t=u().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[u]),e.jsx(t.div,{"aria-hidden":!0,...s,ref:n,style:{flexShrink:0,...s.style},onPointerDown:c(s.onPointerDown,()=>{null===d.current&&(d.current=window.setInterval(l,50))}),onPointerMove:c(s.onPointerMove,()=>{var e;null==(e=r.onItemLeave)||e.call(r),null===d.current&&(d.current=window.setInterval(l,50))}),onPointerLeave:c(s.onPointerLeave,()=>{p()})})}),We=b.forwardRef((a,n)=>{const{__scopeSelect:o,...l}=a;return e.jsx(t.div,{"aria-hidden":!0,...l,ref:n})});We.displayName="SelectSeparator";var qe="SelectArrow";b.forwardRef((t,a)=>{const{__scopeSelect:n,...o}=t,l=ae(n),s=oe(qe,n),r=ge(qe,n);return s.open&&"popper"===r.position?e.jsx(D,{...l,...o,ref:a}):null}).displayName=qe;var Xe=b.forwardRef(({__scopeSelect:a,value:n,...o},l)=>{const s=b.useRef(null),i=r(l,s),c=O(n);return b.useEffect(()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==n&&a){const t=new Event("change",{bubbles:!0});a.call(e,n),e.dispatchEvent(t)}},[c,n]),e.jsx(t.select,{...o,style:{...R,...o.style},ref:i,defaultValue:n})});function Ge(e){return""===e||void 0===e}function Ye(e){const t=u(e),a=b.useRef(""),n=b.useRef(0),o=b.useCallback(e=>{const o=a.current+e;t(o),function e(t){a.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(o)},[t]),l=b.useCallback(()=>{a.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[a,o,l]}function Ze(e,t,a){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,o=a?e.indexOf(a):-1;let l=(s=e,r=Math.max(o,0),s.map((e,t)=>s[(r+t)%s.length]));var s,r;1===n.length&&(l=l.filter(e=>e!==a));const i=l.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==a?i:void 0}Xe.displayName="SelectBubbleInput";var $e=ce,Je=pe,Qe=me,et=ve,tt=_e,at=Ee,nt=Me,ot=Oe,lt=Ve,st=Be,rt=Ke,it=We;const ct=re,dt=ue,ut=b.forwardRef(({className:t,children:a,...n},o)=>e.jsxs($e,{ref:o,className:k("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[a,e.jsx(Je,{asChild:!0,children:e.jsx(g,{className:"h-4 w-4 opacity-50"})})]}));ut.displayName=$e.displayName;const pt=b.forwardRef(({className:t,...a},n)=>e.jsx(st,{ref:n,className:k("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(j,{className:"h-4 w-4"})}));pt.displayName=st.displayName;const mt=b.forwardRef(({className:t,...a},n)=>e.jsx(rt,{ref:n,className:k("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(g,{className:"h-4 w-4"})}));mt.displayName=rt.displayName;const ft=b.forwardRef(({className:t,children:a,position:n="popper",...o},l)=>e.jsx(Qe,{children:e.jsxs(et,{ref:l,className:k("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...o,children:[e.jsx(pt,{}),e.jsx(tt,{className:k("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(mt,{})]})}));ft.displayName=et.displayName;b.forwardRef(({className:t,...a},n)=>e.jsx(at,{ref:n,className:k("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})).displayName=at.displayName;const vt=b.forwardRef(({className:t,children:a,...n},o)=>e.jsxs(nt,{ref:o,className:k("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lt,{children:e.jsx(y,{className:"h-4 w-4"})})}),e.jsx(ot,{children:a})]}));vt.displayName=nt.displayName;b.forwardRef(({className:t,...a},n)=>e.jsx(it,{ref:n,className:k("-mx-1 my-1 h-px bg-muted",t),...a})).displayName=it.displayName;const ht=({children:t})=>e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t}),xt=({label:t,value:a,placeholder:n,type:o="text",onSave:l})=>{const[s,r]=b.useState(!1),[i,c]=b.useState(a||"");return b.useEffect(()=>c(a||""),[a]),e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:t}),s?e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(M,{value:i,onChange:e=>c(e.target.value),placeholder:n,type:o,className:"max-w-md"}),e.jsx(L,{size:"sm",onClick:async()=>{await l(i.trim()),r(!1)},children:"Save"}),e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>{c(a||""),r(!1)},children:"Cancel"})]}):e.jsx("div",{className:"font-medium text-gray-900",children:a||"Not provided"})]}),!s&&e.jsx("button",{onClick:()=>r(!0),className:"text-sm font-medium text-gray-900 hover:underline",children:a?"Edit":"Add"})]})})},gt=({label:t,value:a,options:n,onSave:o})=>{var l;const[s,r]=b.useState(!1),[i,c]=b.useState(a||"");b.useEffect(()=>c(a||""),[a]);const d=(null==(l=n.find(e=>e.value===a))?void 0:l.label)||a||"Not provided";return e.jsx("div",{className:"py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:t}),s?e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsxs(ct,{value:i,onValueChange:c,children:[e.jsx(ut,{className:"w-56",children:e.jsx(dt,{placeholder:"Select"})}),e.jsx(ft,{children:n.map(t=>e.jsx(vt,{value:t.value,children:t.label},t.value))})]}),e.jsx(L,{size:"sm",onClick:async()=>{await o(i),r(!1)},children:"Save"}),e.jsx(L,{size:"sm",variant:"ghost",onClick:()=>{c(a||""),r(!1)},children:"Cancel"})]}):e.jsx("div",{className:"font-medium text-gray-900",children:d})]}),!s&&e.jsx("button",{onClick:()=>r(!0),className:"text-sm font-medium text-gray-900 hover:underline",children:a?"Edit":"Add"})]})})},yt=()=>{const[t,a]=b.useState(null),[n,o]=b.useState(!0),[l,s]=b.useState(null),r=N(),[i]=C();b.useEffect(()=>{(async()=>{try{const e=await V(),t=localStorage.getItem("host_location"),n=localStorage.getItem("host_languages");localStorage.getItem("host_avatar");e.profile&&(t&&(e.profile.location=t),n&&(e.profile.languages_spoken=n)),a(e),s(null)}catch(e){let t="Failed to load account";if(e&&"object"==typeof e&&"response"in e){const a=e.response,n=null==a?void 0:a.data;t=(null==n?void 0:n.error)||(null==n?void 0:n.message)||t}else e instanceof Error&&(t=e.message);s(t)}finally{o(!1)}})()},[]),b.useEffect(()=>{if("languages"===i.get("tab")){const e=document.getElementById("languages-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},[i]);if(n)return e.jsx(_,{fullScreen:!0,message:"Loading account..."});if(!t)return e.jsx("div",{className:"p-6",children:l||"Unable to load account."});const c=t.profile||{},d=async e=>{void 0!==e.location&&localStorage.setItem("host_location",e.location),void 0!==e.languages_spoken&&localStorage.setItem("host_languages",e.languages_spoken),await F(e);const t=await V(),n=localStorage.getItem("host_location"),o=localStorage.getItem("host_languages");t.profile&&(n&&(t.profile.location=n),o&&(t.profile.languages_spoken=o)),a(t)};return e.jsxs("div",{className:"min-h-screen bg-white pb-20 md:pb-0",children:[e.jsx(B,{title:"Account Settings",description:"Manage your personal information and preferences."}),e.jsx(z,{}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-6 pt-10 md:pt-20",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsx("aside",{className:"md:col-span-1 space-y-2",children:[{id:"personal",label:"Personal information"},{id:"notifications",label:"Notifications"},{id:"privacy",label:"Privacy"},{id:"taxes",label:"Taxes"},{id:"payments",label:"Payments"},{id:"languages",label:"Languages & currency"},{id:"travel",label:"Travel for work"}].map((t,a)=>e.jsx("button",{onClick:()=>{const e=document.getElementById(`${t.id}-section`);e&&e.scrollIntoView({behavior:"smooth",block:"start"})},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 "+(0===a?"bg-gray-100 font-semibold":""),children:t.label},t.id))}),e.jsxs("main",{className:"md:col-span-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(L,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"rounded-full shrink-0","aria-label":"Go back",children:e.jsx(w,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center justify-between flex-1",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Personal information"}),e.jsx(L,{variant:"outline",onClick:()=>r(-1),children:"Done"})]})]}),e.jsxs("div",{id:"personal-section",className:"bg-white border border-gray-200 rounded-xl p-4",children:[e.jsx(ht,{children:"Personal information"}),e.jsx(G,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Profile Picture"}),e.jsx("div",{className:"mt-2",children:localStorage.getItem("host_avatar")?e.jsx("img",{src:localStorage.getItem("host_avatar"),alt:"Profile",className:"h-16 w-16 rounded-full object-cover"}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:"No Img"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:e=>{var t;const a=null==(t=e.target.files)?void 0:t[0];if(a){const e=new FileReader;e.onloadend=()=>{const t=e.result;localStorage.setItem("host_avatar",t),window.location.reload()},e.readAsDataURL(a)}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsx(L,{variant:"outline",size:"sm",children:"Upload"})]})]}),e.jsx(G,{}),e.jsx(xt,{label:"Legal name",value:c.legal_name||void 0,onSave:e=>d({legal_name:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Preferred first name",value:c.preferred_first_name||void 0,onSave:e=>d({preferred_first_name:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Email address",value:t.user.email,type:"email",onSave:e=>d({email:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Phone numbers",value:c.phone||void 0,type:"tel",onSave:e=>d({phone:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Residential address",value:c.residential_address||void 0,onSave:e=>d({residential_address:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Mailing address",value:c.mailing_address||void 0,onSave:e=>d({mailing_address:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Where I live",value:c.location||void 0,onSave:e=>d({location:e})}),e.jsx(G,{}),e.jsx(xt,{label:"Languages I speak",value:c.languages_spoken||void 0,onSave:e=>d({languages_spoken:e})})]}),e.jsxs("div",{id:"notifications-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(ht,{children:"Notifications"}),e.jsx(G,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Email notifications"}),e.jsx("div",{className:"font-medium text-gray-900",children:"Receive updates by email"})]}),e.jsx(H,{checked:!!c.notify_email,onCheckedChange:e=>d({notify_email:e})})]}),e.jsx(G,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"SMS notifications"}),e.jsx("div",{className:"font-medium text-gray-900",children:"Receive updates by SMS"})]}),e.jsx(H,{checked:!!c.notify_sms,onCheckedChange:e=>d({notify_sms:e})})]})]}),e.jsxs("div",{id:"privacy-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(ht,{children:"Privacy"}),e.jsx(G,{}),e.jsx(gt,{label:"Profile visibility",value:c.privacy_profile_visibility||void 0,options:[{value:"everyone",label:"Everyone"},{value:"guests",label:"Guests"},{value:"private",label:"Only me"}],onSave:e=>d({privacy_profile_visibility:e})})]}),e.jsxs("div",{id:"taxes-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(ht,{children:"Taxes"}),e.jsx(G,{}),e.jsx(xt,{label:"Tax ID",value:c.tax_id||void 0,onSave:e=>d({tax_id:e})})]}),e.jsxs("div",{id:"payments-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(ht,{children:"Payments"}),e.jsx(G,{}),e.jsx(xt,{label:"Payout method",value:c.payout_method||void 0,onSave:e=>d({payout_method:e})})]}),e.jsxs("div",{id:"languages-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(ht,{children:"Languages & currency"}),e.jsx(G,{}),e.jsx(gt,{label:"Language",value:c.language||void 0,options:[{value:"en",label:"English"},{value:"fr",label:"Français"}],onSave:e=>d({language:e})}),e.jsx(G,{}),e.jsx(gt,{label:"Currency",value:c.currency||"XAF",options:[{value:"XAF",label:"FCFA (XAF)"},{value:"USD",label:"USD"},{value:"EUR",label:"EUR"}],onSave:e=>d({currency:e})})]}),e.jsxs("div",{id:"travel-section",className:"bg-white border border-gray-200 rounded-xl p-4 mt-6",children:[e.jsx(ht,{children:"Travel for work"}),e.jsx(G,{}),e.jsxs("div",{className:"py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Enable travel for work"}),e.jsx("div",{className:"font-medium text-gray-900",children:"Show business travel tools"})]}),e.jsx(H,{checked:!!c.travel_for_work,onCheckedChange:e=>d({travel_for_work:e})})]})]})]})]})}),e.jsx(K,{})]})};export{yt as default};
