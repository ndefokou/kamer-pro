import{r as i,j as e,d as K,h as Q,P as R,u as U,f as D,g as E,aE as X,c as w,p as $,aD as J,B as I}from"./index-BumHlSai.js";import{T as V}from"./textarea-C_drbF4B.js";import{u as W}from"./index-Bnp7XLmy.js";import{C as Y}from"./check-Cw4ObBPz.js";import{L as Z}from"./label-Dp3vxcFY.js";import{u as ee}from"./useTranslation-DUME4FCN.js";import{S as B,F as te}from"./shield-alert-BAzvxJqx.js";import{H as se}from"./heart-DX2l2ZpK.js";var y="Checkbox",[oe]=K(y),[re,S]=oe(y);function ne(o){const{__scopeCheckbox:t,checked:n,children:u,defaultChecked:a,disabled:s,form:m,name:x,onCheckedChange:c,required:k,value:C="on",internal_do_not_use_render:h}=o,[p,r]=U({prop:n,defaultProp:a??!1,onChange:c,caller:y}),[l,b]=i.useState(null),[v,d]=i.useState(null),f=i.useRef(!1),j=l?!!m||!!l.closest("form"):!0,N={checked:p,disabled:s,setChecked:r,control:l,setControl:b,name:x,form:m,value:C,hasConsumerStoppedPropagationRef:f,required:k,defaultChecked:g(a)?!1:a,isFormControl:j,bubbleInput:v,setBubbleInput:d};return e.jsx(re,{scope:t,...N,children:ae(h)?h(N):u})}var H="CheckboxTrigger",T=i.forwardRef(({__scopeCheckbox:o,onKeyDown:t,onClick:n,...u},a)=>{const{control:s,value:m,disabled:x,checked:c,required:k,setControl:C,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:r,bubbleInput:l}=S(H,o),b=D(a,C),v=i.useRef(c);return i.useEffect(()=>{const d=s==null?void 0:s.form;if(d){const f=()=>h(v.current);return d.addEventListener("reset",f),()=>d.removeEventListener("reset",f)}},[s,h]),e.jsx(R.button,{type:"button",role:"checkbox","aria-checked":g(c)?"mixed":c,"aria-required":k,"data-state":q(c),"data-disabled":x?"":void 0,disabled:x,value:m,...u,ref:b,onKeyDown:E(t,d=>{d.key==="Enter"&&d.preventDefault()}),onClick:E(n,d=>{h(f=>g(f)?!0:!f),l&&r&&(p.current=d.isPropagationStopped(),p.current||d.stopPropagation())})})});T.displayName=H;var _=i.forwardRef((o,t)=>{const{__scopeCheckbox:n,name:u,checked:a,defaultChecked:s,required:m,disabled:x,value:c,onCheckedChange:k,form:C,...h}=o;return e.jsx(ne,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:x,required:m,onCheckedChange:k,name:u,form:C,value:c,internal_do_not_use_render:({isFormControl:p})=>e.jsxs(e.Fragment,{children:[e.jsx(T,{...h,ref:t,__scopeCheckbox:n}),p&&e.jsx(L,{__scopeCheckbox:n})]})})});_.displayName=y;var M="CheckboxIndicator",F=i.forwardRef((o,t)=>{const{__scopeCheckbox:n,forceMount:u,...a}=o,s=S(M,n);return e.jsx(Q,{present:u||g(s.checked)||s.checked===!0,children:e.jsx(R.span,{"data-state":q(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...o.style}})})});F.displayName=M;var A="CheckboxBubbleInput",L=i.forwardRef(({__scopeCheckbox:o,...t},n)=>{const{control:u,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:m,required:x,disabled:c,name:k,value:C,form:h,bubbleInput:p,setBubbleInput:r}=S(A,o),l=D(n,r),b=W(s),v=X(u);i.useEffect(()=>{const f=p;if(!f)return;const j=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(j,"checked").set,z=!a.current;if(b!==s&&P){const G=new Event("click",{bubbles:z});f.indeterminate=g(s),P.call(f,g(s)?!1:s),f.dispatchEvent(G)}},[p,b,s,a]);const d=i.useRef(g(s)?!1:s);return e.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??d.current,required:x,disabled:c,name:k,value:C,form:h,...t,tabIndex:-1,ref:l,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L.displayName=A;function ae(o){return typeof o=="function"}function g(o){return o==="indeterminate"}function q(o){return g(o)?"indeterminate":o?"checked":"unchecked"}const O=i.forwardRef(({className:o,...t},n)=>e.jsx(_,{ref:n,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o),...t,children:e.jsx(F,{className:w("flex items-center justify-center text-current"),children:e.jsx(Y,{className:"h-4 w-4"})})}));O.displayName=_.displayName;const ce=[{id:"smoke_alarm",label:"Smoke alarm",icon:B},{id:"carbon_monoxide_alarm",label:"Carbon monoxide alarm",icon:B},{id:"fire_extinguisher",label:"Fire extinguisher",icon:te},{id:"first_aid_kit",label:"First aid kit",icon:se}],xe=()=>{const o=$(),{t}=ee(),{draft:n,updateDraft:u,nextStep:a,previousStep:s}=J(),[m,x]=i.useState(n.safetyDevices||[]),[c,k]=i.useState(n.houseRules||""),C=r=>{x(l=>l.includes(r)?l.filter(b=>b!==r):[...l,r])},h=()=>{u({safetyDevices:m,houseRules:c}),a(),o("/host/preview")},p=()=>{u({safetyDevices:m,houseRules:c}),s(),o("/host/pricing")};return e.jsx("div",{className:"min-h-screen bg-background p-4 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:t("host.safety.title","Safety and house rules")}),e.jsx("p",{className:"text-muted-foreground text-lg",children:t("host.safety.subtitle","Help guests feel safe and know what to expect")})]}),e.jsxs("div",{className:"mb-8 p-6 border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("host.safety.devicesTitle","Safety devices")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("host.safety.devicesHelp","Select all safety devices available at your property")}),e.jsx("div",{className:"space-y-3",children:ce.map(r=>{const l=r.icon,b=m.includes(r.id);return e.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-accent",children:[e.jsx(O,{id:r.id,checked:b,onCheckedChange:()=>C(r.id)}),e.jsxs(Z,{htmlFor:r.id,className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(l,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{children:t(`amenities.${r.id}`,r.label)})]})]},r.id)})})]}),e.jsxs("div",{className:"mb-8 p-6 border rounded-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:t("host.safety.houseRulesTitle","House rules")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("host.safety.houseRulesHelp","Set clear expectations for your guests")}),e.jsx(V,{value:c,onChange:r=>k(r.target.value),placeholder:t("host.safety.houseRulesPlaceholder","e.g., No smoking, No pets, No parties or events, Quiet hours: 10 PM - 8 AM"),className:"min-h-[150px]"}),e.jsxs("div",{className:"mt-4 bg-muted p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:t("host.safety.commonRulesTitle","Common house rules:")}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",t("host.safety.rules.noSmoking","No smoking")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.noPets","No pets")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.noParties","No parties or events")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.quietHours","Quiet hours (e.g., 10 PM - 8 AM)")]}),e.jsxs("li",{children:["• ",t("host.safety.rules.checkInOut","Check-in/check-out times")]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-12 pt-6 border-t",children:[e.jsx(I,{variant:"outline",onClick:p,children:t("common.back","Back")}),e.jsx(I,{onClick:h,size:"lg",children:t("common.continue","Continue")})]}),e.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:t("common.stepOf","Step {{current}} of {{total}}",{current:8,total:9})})]})})};export{xe as default};
