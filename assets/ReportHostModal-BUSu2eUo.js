import{j as s,L as e,Y as a}from"./vendor-ui-DcvuiMJW.js";import{r}from"./vendor-react-CPc5zwff.js";import{D as t,p as i,q as o,r as n,ae as l,B as c,ag as d}from"./index-Dd0d9_cy.js";import{L as m}from"./label-BoX00Od0.js";import{T as p}from"./textarea-DNSr1HFY.js";import"./vendor-charts-CNjKuHaK.js";import"./vendor-utils-tyqSID0v.js";const h=({isOpen:h,onClose:u,hostId:j,listingId:x})=>{const[y,f]=r.useState(""),[b,g]=r.useState(!1);return s.jsx(t,{open:h,onOpenChange:u,children:s.jsxs(i,{className:"sm:max-w-[425px]",children:[s.jsx(o,{children:s.jsx(n,{children:"Report this Host"})}),s.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),y.trim()){g(!0);try{await d({host_id:j,listing_id:x,reason:y.trim()}),a.success("Report submitted successfully. Thank you for your feedback."),f(""),u()}catch(e){a.error("Failed to submit report. Please try again.")}finally{g(!1)}}},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(m,{htmlFor:"reason",children:"Why are you reporting this host?"}),s.jsx(p,{id:"reason",placeholder:"Please provide details about your concern...",value:y,onChange:s=>f(s.target.value),className:"min-h-[100px]",required:!0})]}),s.jsxs(l,{children:[s.jsx(c,{type:"button",variant:"outline",onClick:u,disabled:b,children:"Cancel"}),s.jsx(c,{type:"submit",disabled:!y.trim()||b,children:b?s.jsxs(s.Fragment,{children:[s.jsx(e,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Report"})]})]})]})})};export{h as default};
