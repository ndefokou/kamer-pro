import{p as f,v as j,q as v,r as N,j as s,B as c}from"./index-BumHlSai.js";import{A as h,a as d,b as m}from"./avatar-BcTl2A0a.js";import{S as y,a as w,b as C,c as k,d as L,e as S,L as A}from"./sheet-CXl9c71X.js";import{L as M}from"./LanguageSwitcher-B49yhAFl.js";import{u as U}from"./useTranslation-DUME4FCN.js";import{C as T}from"./chevron-left-BgQrOA8v.js";import{M as H}from"./menu-CwDdBYwq.js";import{P as O}from"./plus-zj-BiCMM.js";const _=a=>{const r=a==null?void 0:a.trim();if(!r)return"AD";const e=r.split(/\s+/);return e.length===1?r.slice(0,2).toUpperCase():(e[0][0]+e[1][0]).toUpperCase()},q=()=>{const a=f(),r=j(),{user:e,logout:x}=v(),[g,n]=N.useState(!1),{t}=U(),l=(e==null?void 0:e.username)||"",i=_(l||"User"),p=async()=>{await x(),n(!1),a("/")},o=b=>r.pathname===b,u=r.pathname==="/host/dashboard";return s.jsx("header",{className:"border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 sticky top-0 z-50 pt-safe",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 md:h-20 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-12",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[!u&&s.jsx(c,{variant:"ghost",size:"icon",onClick:()=>a(-1),className:"rounded-full","aria-label":"Go back",children:s.jsx(T,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xl cursor-pointer",onClick:()=>a("/"),children:[s.jsx("img",{src:"/logo.png",alt:"Le Mboko",className:"h-10 w-10 object-contain rounded-lg"}),s.jsx("span",{className:"hidden sm:inline",children:"Le Mboko"})]})]}),s.jsxs("nav",{className:"hidden md:flex gap-8 text-sm font-medium",children:[s.jsxs("a",{href:"/host/reservations",className:`${o("/host/reservations")?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"}`,children:[t("nav.reservations","Reservations"),o("/host/reservations")&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]}),s.jsxs("a",{href:"/host/calendar",className:`${o("/host/calendar")?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"}`,children:[t("nav.calendar","Calendar"),o("/host/calendar")&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]}),s.jsxs("a",{href:"/host/dashboard",className:`${o("/host/dashboard")?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"}`,children:[t("nav.listings","Listings"),o("/host/dashboard")&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]}),s.jsxs("a",{href:"/messages?view=host",className:`${r.pathname==="/messages"?"text-gray-900 font-semibold relative pb-6":"text-gray-600 hover:text-gray-900 transition-colors"}`,children:[t("nav.messages","Messages"),r.pathname==="/messages"&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(c,{variant:"ghost",className:"text-sm font-medium hover:bg-gray-100 rounded-full px-4",onClick:()=>a("/"),children:t("host.header.switchToTraveling","Switch to traveling")}),s.jsx(M,{}),s.jsxs(y,{open:g,onOpenChange:n,children:[s.jsx(w,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-3 border border-gray-300 rounded-full py-1.5 px-3 hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx(H,{className:"h-4 w-4 text-gray-700"}),s.jsxs(h,{className:"h-8 w-8",children:[s.jsx(d,{src:(e==null?void 0:e.profile_picture_url)||"/placeholder-user.jpg"}),s.jsx(m,{className:"bg-gray-700 text-white text-xs",children:i})]})]})}),s.jsxs(C,{side:"right",className:"w-[360px] sm:w-[420px]",children:[s.jsx(k,{children:s.jsx(L,{children:t("common.menu","Menu")})}),s.jsxs("div",{className:"mt-6 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[s.jsxs(h,{className:"h-10 w-10",children:[s.jsx(d,{src:(e==null?void 0:e.profile_picture_url)||"/placeholder-user.jpg"}),s.jsx(m,{className:"bg-gray-700 text-white text-sm",children:i})]}),s.jsx("div",{className:"font-semibold text-gray-900",children:l||t("common.user","User")})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100",onClick:()=>{n(!1),a("/account")},children:[s.jsx(S,{className:"h-5 w-5"}),s.jsx("span",{children:t("account.settings","Account settings")})]}),s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100",onClick:()=>{n(!1),a("/host/intro")},children:[s.jsx(O,{className:"h-5 w-5"}),s.jsx("span",{children:t("host.header.createListing","Create a new listing")})]}),s.jsx("div",{className:"pt-3 mt-2 border-t",children:s.jsxs("button",{className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-100 text-red-600",onClick:p,children:[s.jsx(A,{className:"h-5 w-5"}),s.jsx("span",{children:t("auth.logout","Log out")})]})})]})]})]})]})]})})};export{q as H};
