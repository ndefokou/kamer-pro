import{r as l,u as Be,j as e,d as de,e as Ue,P as R,g as T,h as z,c as S,f as M,ah as _,ae as Ye,p as Xe,a5 as $e,ai as qe,V as q,B as H,Y as ue,Q as Ge,S as Ke,T as Qe,U as Je,a0 as Ze,E as et,aj as tt,ak as rt,L as ot}from"./index-BumHlSai.js";import{u as G}from"./useQuery-wQaSLt0g.js";import{u as nt}from"./useMutation-BI-sjjQw.js";import{u as he,c as fe,R as st,I as lt}from"./index-BcTPR2G6.js";import{S as at,H as it}from"./Header-CQjoyTD4.js";import{c as ct}from"./index-BdQq_4o_.js";import{O as dt}from"./OptimizedImage-xP7m_j1R.js";import{C as ut}from"./chevron-left-BgQrOA8v.js";import{E as le}from"./eye-DjaNXgzk.js";import{T as ae}from"./trash-2-CcGP-z7s.js";import{f as ie}from"./format-OVVNnQ9P.js";import"./LanguageSwitcher-B49yhAFl.js";import"./chevron-right-Cey3u9Ra.js";import"./check-Cw4ObBPz.js";import"./useTranslation-DUME4FCN.js";import"./menu-CwDdBYwq.js";var Y="Tabs",[ht]=de(Y,[fe]),me=fe(),[ft,te]=ht(Y),be=l.forwardRef((t,o)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:c,activationMode:u="automatic",...m}=t,d=he(c),[f,h]=Be({prop:n,onChange:s,defaultProp:a??"",caller:Y});return e.jsx(ft,{scope:r,baseId:Ue(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:u,children:e.jsx(R.div,{dir:d,"data-orientation":i,...m,ref:o})})});be.displayName=Y;var xe="TabsList",pe=l.forwardRef((t,o)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=te(xe,r),i=me(r);return e.jsx(st,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:e.jsx(R.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:o})})});pe.displayName=xe;var ge="TabsTrigger",ve=l.forwardRef((t,o)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,i=te(ge,r),c=me(r),u=je(i.baseId,n),m=ye(i.baseId,n),d=n===i.value;return e.jsx(lt,{asChild:!0,...c,focusable:!s,active:d,children:e.jsx(R.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":m,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...a,ref:o,onMouseDown:T(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:T(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:T(t.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});ve.displayName=ge;var we="TabsContent",Se=l.forwardRef((t,o)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=t,c=te(we,r),u=je(c.baseId,n),m=ye(c.baseId,n),d=n===c.value,f=l.useRef(d);return l.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(z,{present:s||d,children:({present:h})=>e.jsx(R.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!h,id:m,tabIndex:0,...i,ref:o,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});Se.displayName=we;function je(t,o){return`${t}-trigger-${o}`}function ye(t,o){return`${t}-content-${o}`}var mt=be,Ne=pe,Te=ve,Ce=Se;const bt=mt,Re=l.forwardRef(({className:t,...o},r)=>e.jsx(Ne,{ref:r,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...o}));Re.displayName=Ne.displayName;const K=l.forwardRef(({className:t,...o},r)=>e.jsx(Te,{ref:r,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...o}));K.displayName=Te.displayName;const Q=l.forwardRef(({className:t,...o},r)=>e.jsx(Ce,{ref:r,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o}));Q.displayName=Ce.displayName;const J=l.forwardRef(({className:t,...o},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:S("w-full caption-bottom text-sm",t),...o})}));J.displayName="Table";const Z=l.forwardRef(({className:t,...o},r)=>e.jsx("thead",{ref:r,className:S("[&_tr]:border-b",t),...o}));Z.displayName="TableHeader";const ee=l.forwardRef(({className:t,...o},r)=>e.jsx("tbody",{ref:r,className:S("[&_tr:last-child]:border-0",t),...o}));ee.displayName="TableBody";const xt=l.forwardRef(({className:t,...o},r)=>e.jsx("tfoot",{ref:r,className:S("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...o}));xt.displayName="TableFooter";const E=l.forwardRef(({className:t,...o},r)=>e.jsx("tr",{ref:r,className:S("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...o}));E.displayName="TableRow";const w=l.forwardRef(({className:t,...o},r)=>e.jsx("th",{ref:r,className:S("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...o}));w.displayName="TableHead";const v=l.forwardRef(({className:t,...o},r)=>e.jsx("td",{ref:r,className:S("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...o}));v.displayName="TableCell";const pt=l.forwardRef(({className:t,...o},r)=>e.jsx("caption",{ref:r,className:S("mt-4 text-sm text-muted-foreground",t),...o}));pt.displayName="TableCaption";function gt(t,o){return l.useReducer((r,n)=>o[r][n]??r,t)}var re="ScrollArea",[Pe]=de(re),[vt,j]=Pe(re),Ae=l.forwardRef((t,o)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...i}=t,[c,u]=l.useState(null),[m,d]=l.useState(null),[f,h]=l.useState(null),[x,p]=l.useState(null),[P,A]=l.useState(null),[N,D]=l.useState(0),[b,O]=l.useState(0),[F,k]=l.useState(!1),[W,V]=l.useState(!1),g=M(o,L=>u(L)),y=he(s);return e.jsx(vt,{scope:r,type:n,dir:y,scrollHideDelay:a,scrollArea:c,viewport:m,onViewportChange:d,content:f,onContentChange:h,scrollbarX:x,onScrollbarXChange:p,scrollbarXEnabled:F,onScrollbarXEnabledChange:k,scrollbarY:P,onScrollbarYChange:A,scrollbarYEnabled:W,onScrollbarYEnabledChange:V,onCornerWidthChange:D,onCornerHeightChange:O,children:e.jsx(R.div,{dir:y,...i,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});Ae.displayName=re;var Ee="ScrollAreaViewport",_e=l.forwardRef((t,o)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=t,i=j(Ee,r),c=l.useRef(null),u=M(o,c,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(R.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_e.displayName=Ee;var C="ScrollAreaScrollbar",oe=l.forwardRef((t,o)=>{const{forceMount:r,...n}=t,s=j(C,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,c=t.orientation==="horizontal";return l.useEffect(()=>(c?a(!0):i(!0),()=>{c?a(!1):i(!1)}),[c,a,i]),s.type==="hover"?e.jsx(wt,{...n,ref:o,forceMount:r}):s.type==="scroll"?e.jsx(St,{...n,ref:o,forceMount:r}):s.type==="auto"?e.jsx(De,{...n,ref:o,forceMount:r}):s.type==="always"?e.jsx(ne,{...n,ref:o}):null});oe.displayName=C;var wt=l.forwardRef((t,o)=>{const{forceMount:r,...n}=t,s=j(C,t.__scopeScrollArea),[a,i]=l.useState(!1);return l.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const m=()=>{window.clearTimeout(u),i(!0)},d=()=>{u=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),e.jsx(z,{present:r||a,children:e.jsx(De,{"data-state":a?"visible":"hidden",...n,ref:o})})}),St=l.forwardRef((t,o)=>{const{forceMount:r,...n}=t,s=j(C,t.__scopeScrollArea),a=t.orientation==="horizontal",i=$(()=>u("SCROLL_END"),100),[c,u]=gt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,s.scrollHideDelay,u]),l.useEffect(()=>{const m=s.viewport,d=a?"scrollLeft":"scrollTop";if(m){let f=m[d];const h=()=>{const x=m[d];f!==x&&(u("SCROLL"),i()),f=x};return m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[s.viewport,a,u,i]),e.jsx(z,{present:r||c!=="hidden",children:e.jsx(ne,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:o,onPointerEnter:T(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:T(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),De=l.forwardRef((t,o)=>{const r=j(C,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,i]=l.useState(!1),c=t.orientation==="horizontal",u=$(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?m:d)}},10);return I(r.viewport,u),I(r.content,u),e.jsx(z,{present:n||a,children:e.jsx(ne,{"data-state":a?"visible":"hidden",...s,ref:o})})}),ne=l.forwardRef((t,o)=>{const{orientation:r="vertical",...n}=t,s=j(C,t.__scopeScrollArea),a=l.useRef(null),i=l.useRef(0),[c,u]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=ke(c.viewport,c.content),d={...n,sizes:c,onSizesChange:u,hasThumb:m>0&&m<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,x){return Rt(h,i.current,c,x)}return r==="horizontal"?e.jsx(jt,{...d,ref:o,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,x=ce(h,c,s.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?e.jsx(yt,{...d,ref:o,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,x=ce(h,c);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),jt=l.forwardRef((t,o)=>{const{sizes:r,onSizesChange:n,...s}=t,a=j(C,t.__scopeScrollArea),[i,c]=l.useState(),u=l.useRef(null),m=M(o,u,a.onScrollbarXChange);return l.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),e.jsx(He,{"data-orientation":"horizontal",...s,ref:m,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":X(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),Oe(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&a.viewport&&i&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:U(i.paddingLeft),paddingEnd:U(i.paddingRight)}})}})}),yt=l.forwardRef((t,o)=>{const{sizes:r,onSizesChange:n,...s}=t,a=j(C,t.__scopeScrollArea),[i,c]=l.useState(),u=l.useRef(null),m=M(o,u,a.onScrollbarYChange);return l.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),e.jsx(He,{"data-orientation":"vertical",...s,ref:m,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":X(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),Oe(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&a.viewport&&i&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:U(i.paddingTop),paddingEnd:U(i.paddingBottom)}})}})}),[Nt,Le]=Pe(C),He=l.forwardRef((t,o)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:m,onWheelScroll:d,onResize:f,...h}=t,x=j(C,r),[p,P]=l.useState(null),A=M(o,g=>P(g)),N=l.useRef(null),D=l.useRef(""),b=x.viewport,O=n.content-n.viewport,F=_(d),k=_(u),W=$(f,10);function V(g){if(N.current){const y=g.clientX-N.current.left,L=g.clientY-N.current.top;m({x:y,y:L})}}return l.useEffect(()=>{const g=y=>{const L=y.target;(p==null?void 0:p.contains(L))&&F(y,O)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[b,p,O,F]),l.useEffect(k,[n,k]),I(p,W),I(x.content,W),e.jsx(Nt,{scope:r,scrollbar:p,hasThumb:s,onThumbChange:_(a),onThumbPointerUp:_(i),onThumbPositionChange:k,onThumbPointerDown:_(c),children:e.jsx(R.div,{...h,ref:A,style:{position:"absolute",...h.style},onPointerDown:T(t.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),N.current=p.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),V(g))}),onPointerMove:T(t.onPointerMove,V),onPointerUp:T(t.onPointerUp,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=D.current,x.viewport&&(x.viewport.style.scrollBehavior=""),N.current=null})})})}),B="ScrollAreaThumb",Ie=l.forwardRef((t,o)=>{const{forceMount:r,...n}=t,s=Le(B,t.__scopeScrollArea);return e.jsx(z,{present:r||s.hasThumb,children:e.jsx(Tt,{ref:o,...n})})}),Tt=l.forwardRef((t,o)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=j(B,r),i=Le(B,r),{onThumbPositionChange:c}=i,u=M(o,f=>i.onThumbChange(f)),m=l.useRef(void 0),d=$(()=>{m.current&&(m.current(),m.current=void 0)},100);return l.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!m.current){const x=Pt(f,c);m.current=x,c()}};return c(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,c]),e.jsx(R.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:T(t.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),p=f.clientX-x.left,P=f.clientY-x.top;i.onThumbPointerDown({x:p,y:P})}),onPointerUp:T(t.onPointerUp,i.onThumbPointerUp)})});Ie.displayName=B;var se="ScrollAreaCorner",Me=l.forwardRef((t,o)=>{const r=j(se,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?e.jsx(Ct,{...t,ref:o}):null});Me.displayName=se;var Ct=l.forwardRef((t,o)=>{const{__scopeScrollArea:r,...n}=t,s=j(se,r),[a,i]=l.useState(0),[c,u]=l.useState(0),m=!!(a&&c);return I(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),u(d)}),I(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),m?e.jsx(R.div,{...n,ref:o,style:{width:a,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function U(t){return t?parseInt(t,10):0}function ke(t,o){const r=t/o;return isNaN(r)?0:r}function X(t){const o=ke(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*o;return Math.max(n,18)}function Rt(t,o,r,n="ltr"){const s=X(r),a=s/2,i=o||a,c=s-i,u=r.scrollbar.paddingStart+i,m=r.scrollbar.size-r.scrollbar.paddingEnd-c,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return ze([u,m],f)(t)}function ce(t,o,r="ltr"){const n=X(o),s=o.scrollbar.paddingStart+o.scrollbar.paddingEnd,a=o.scrollbar.size-s,i=o.content-o.viewport,c=a-n,u=r==="ltr"?[0,i]:[i*-1,0],m=ct(t,u);return ze([0,i],[0,c])(m)}function ze(t,o){return r=>{if(t[0]===t[1]||o[0]===o[1])return o[0];const n=(o[1]-o[0])/(t[1]-t[0]);return o[0]+n*(r-t[0])}}function Oe(t,o){return t>0&&t<o}var Pt=(t,o=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},i=r.left!==a.left,c=r.top!==a.top;(i||c)&&o(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function $(t,o){const r=_(t),n=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),l.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,o)},[r,o])}function I(t,o){const r=_(o);Ye(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var Fe=Ae,At=_e,Et=Me;const We=l.forwardRef(({className:t,children:o,...r},n)=>e.jsxs(Fe,{ref:n,className:S("relative overflow-hidden",t),...r,children:[e.jsx(At,{className:"h-full w-full rounded-[inherit]",children:o}),e.jsx(Ve,{}),e.jsx(Et,{})]}));We.displayName=Fe.displayName;const Ve=l.forwardRef(({className:t,orientation:o="vertical",...r},n)=>e.jsx(oe,{ref:n,orientation:o,className:S("flex touch-none select-none transition-colors",o==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",o==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(Ie,{className:"relative flex-1 rounded-full bg-border"})}));Ve.displayName=oe.displayName;const Gt=()=>{const t=Xe(),o=$e(),[r,n]=l.useState("hosts"),[s,a]=l.useState(""),[i,c]=l.useState(!1),[u,m]=l.useState(null),[d,f]=l.useState(!1),{data:h,isLoading:x}=G({queryKey:["admin","hosts"],queryFn:tt}),{data:p,isLoading:P}=G({queryKey:["admin","reports"],queryFn:rt}),A=nt({mutationFn:qe,onSuccess:()=>{q.success("Host deleted successfully"),o.invalidateQueries({queryKey:["admin","hosts"]})},onError:b=>{console.error("Failed to delete host:",b),q.error("Failed to delete host")}}),N=b=>{confirm("Are you sure you want to delete this host? This action cannot be undone and will delete all their listings and bookings.")&&A.mutate(b)},D=b=>{b.preventDefault(),s==="mapiol"?c(!0):q.error("Incorrect password")};return i?x||P?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(ue,{className:"h-8 w-8 animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(at,{title:"Admin Dashboard"}),e.jsx(it,{}),e.jsxs("div",{className:"container mx-auto py-10 px-4 pt-10 md:pt-20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx(H,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"rounded-full shrink-0","aria-label":"Go back",children:e.jsx(ut,{className:"h-6 w-6"})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})]}),e.jsxs(bt,{value:r,onValueChange:n,children:[e.jsxs(Re,{className:"mb-8",children:[e.jsx(K,{value:"hosts",children:"Hosts Management"}),e.jsx(K,{value:"reports",children:"Reports"})]}),e.jsx(Q,{value:"hosts",children:e.jsx("div",{className:"bg-white rounded-lg shadow border",children:e.jsxs(J,{children:[e.jsx(Z,{children:e.jsxs(E,{children:[e.jsx(w,{children:"ID"}),e.jsx(w,{children:"Username"}),e.jsx(w,{children:"Email"}),e.jsx(w,{children:"Joined"}),e.jsx(w,{children:"Listings"}),e.jsx(w,{children:"Actions"})]})}),e.jsxs(ee,{children:[h==null?void 0:h.map(b=>e.jsxs(E,{children:[e.jsx(v,{children:b.id}),e.jsx(v,{className:"font-medium",children:b.username}),e.jsx(v,{children:b.email}),e.jsx(v,{children:ie(new Date(b.created_at),"MMM d, yyyy")}),e.jsx(v,{children:b.listing_count}),e.jsx(v,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{m(b.id),f(!0)},children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"View Listings"]}),e.jsxs(H,{variant:"destructive",size:"sm",onClick:()=>N(b.id),disabled:A.isPending,children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]},b.id)),(h==null?void 0:h.length)===0&&e.jsx(E,{children:e.jsx(v,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No hosts found"})})]})]})})}),e.jsx(Q,{value:"reports",children:e.jsx("div",{className:"bg-white rounded-lg shadow border",children:e.jsxs(J,{children:[e.jsx(Z,{children:e.jsxs(E,{children:[e.jsx(w,{children:"ID"}),e.jsx(w,{children:"Date"}),e.jsx(w,{children:"Reporter ID"}),e.jsx(w,{children:"Host ID"}),e.jsx(w,{children:"Listing ID"}),e.jsx(w,{children:"Reason"}),e.jsx(w,{children:"Status"}),e.jsx(w,{children:"Actions"})]})}),e.jsxs(ee,{children:[p==null?void 0:p.map(b=>e.jsxs(E,{children:[e.jsx(v,{children:b.id}),e.jsx(v,{children:ie(new Date(b.created_at),"MMM d, yyyy")}),e.jsx(v,{children:b.reporter_id}),e.jsx(v,{children:b.host_id}),e.jsx(v,{children:b.listing_id||"N/A"}),e.jsx(v,{className:"max-w-md truncate",title:b.reason,children:b.reason}),e.jsx(v,{children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.status==="pending"?"bg-yellow-100 text-yellow-800":b.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.status})}),e.jsx(v,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:()=>{m(b.host_id),f(!0)},children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"View Host"]}),e.jsxs(H,{variant:"destructive",size:"sm",onClick:()=>N(b.host_id),disabled:A.isPending,children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Delete Host"]})]})})]},b.id)),(p==null?void 0:p.length)===0&&e.jsx(E,{children:e.jsx(v,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No reports found"})})]})]})})})]})]}),e.jsx(Ge,{open:d,onOpenChange:f,children:e.jsxs(Ke,{className:"max-w-4xl max-h-[80vh]",children:[e.jsxs(Qe,{children:[e.jsxs(Je,{children:["Host Listings (ID: ",u,")"]}),e.jsx(Ze,{children:"Review all properties listed by this host."})]}),e.jsx(We,{className:"h-full max-h-[60vh] mt-4",children:e.jsx(_t,{hostId:u})})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Access"}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:s,onChange:b=>a(b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Enter admin password"})]}),e.jsx(H,{type:"submit",className:"w-full",children:"Access Dashboard"})]})]})})},_t=({hostId:t})=>{const{data:o,isLoading:r}=G({queryKey:["admin","host-listings",t],queryFn:()=>t?ot(t):Promise.resolve([]),enabled:!!t});return r?e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(ue,{className:"h-8 w-8 animate-spin"})}):!o||o.length===0?e.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No listings found for this host."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(n=>{var s;return e.jsxs("div",{className:"border rounded-lg overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"aspect-video relative",children:[e.jsx(dt,{src:et((s=n.photos[0])==null?void 0:s.url),alt:n.listing.title||"Property",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2 flex gap-1",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${n.listing.status==="published"?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:n.listing.status})})]}),e.jsxs("div",{className:"p-4 flex-1",children:[e.jsx("h3",{className:"font-semibold truncate",children:n.listing.title||"Untitled"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.listing.city,", ",n.listing.country]}),e.jsxs("div",{className:"mt-2 text-sm font-medium",children:[n.listing.price_per_night," ",n.listing.currency," / night"]})]})]},n.listing.id)})})};export{Gt as default};
