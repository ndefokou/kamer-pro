import{j as e,r as s,K as t,J as a,q as i}from"./vendor-ui-CAOOb9ur.js";import{r as l}from"./vendor-react-C_40T_Qy.js";import{B as o,o as r}from"./index-CHW3rl59.js";import{O as c}from"./OptimizedImage-ChM7nsgN.js";import"./vendor-charts-knjLkUkQ.js";import"./vendor-utils-tyqSID0v.js";const n=({isOpen:n,onClose:h,photos:d,initialPhotoIndex:m=0})=>{const[x,u]=l.useState("grid"),[g,p]=l.useState(m);if(l.useEffect(()=>(n?document.body.style.overflow="hidden":(document.body.style.overflow="unset",u("grid")),()=>{document.body.style.overflow="unset"}),[n]),l.useEffect(()=>{p(m)},[m]),!n)return null;const j=e=>{null==e||e.stopPropagation(),p(e=>(e+1)%d.length)},v=e=>{null==e||e.stopPropagation(),p(e=>(e-1+d.length)%d.length)};return"lightbox"===x?e.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4 text-white",children:[e.jsxs(o,{variant:"ghost",className:"text-white hover:bg-white/10 gap-2",onClick:()=>u("grid"),children:[e.jsx(s,{className:"h-5 w-5"}),"Back to grid"]}),e.jsxs("div",{className:"text-sm font-medium",children:[g+1," / ",d.length]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",children:e.jsx(t,{className:"h-5 w-5"})}),e.jsx(o,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",children:e.jsx(a,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex-1 relative flex items-center justify-center group",children:[e.jsx("button",{className:"absolute left-4 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors opacity-0 group-hover:opacity-100",onClick:v,children:e.jsx(s,{className:"h-8 w-8"})}),e.jsx(c,{src:r(d[g].url),alt:`Photo ${g+1}`,className:"w-full h-full object-contain",quality:"high",priority:!0}),e.jsx("button",{className:"absolute right-4 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors opacity-0 group-hover:opacity-100",onClick:j,children:e.jsx(i,{className:"h-8 w-8"})})]}),e.jsx("div",{className:"h-20 bg-black/90 flex items-center justify-center gap-2 px-4 overflow-x-auto",children:d.map((s,t)=>e.jsx("button",{onClick:()=>p(t),className:"relative h-14 w-20 flex-shrink-0 rounded-md overflow-hidden transition-opacity "+(t===g?"ring-2 ring-white opacity-100":"opacity-50 hover:opacity-75"),children:e.jsx(c,{src:r(s.url),alt:`Thumbnail ${t+1}`,className:"h-full w-full object-cover",quality:"low"})},s.id))})]}):e.jsxs("div",{className:"fixed inset-0 z-[60] bg-white animate-in slide-in-from-bottom-10 duration-200",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b px-4 h-16 flex items-center justify-between",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:h,className:"hover:bg-gray-100 rounded-full",children:e.jsx(s,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsx(t,{className:"h-4 w-4"}),"Share"]}),e.jsxs(o,{variant:"ghost",size:"sm",className:"gap-2",children:[e.jsx(a,{className:"h-4 w-4"}),"Save"]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 overflow-y-auto h-[calc(100vh-64px)]",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Photo tour"}),e.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4 space-y-4",children:d.map((s,t)=>e.jsxs("div",{className:"break-inside-avoid cursor-pointer group relative",onClick:()=>(e=>{p(e),u("lightbox")})(t),children:[e.jsx(c,{src:r(s.url),alt:`Photo ${t+1}`,className:"w-full rounded-lg hover:opacity-95 transition-opacity",quality:"medium"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors rounded-lg"})]},s.id))})]})]})};export{n as default};
