import{O as H,r as n,d as V,ad as z,e as q,j as d,P as G,g as m,f as J,u as Q,ah as W}from"./index-BumHlSai.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var X=n.createContext(void 0);function Z(e){const t=n.useContext(X);return e||t||"ltr"}var A="rovingFocusGroup.onEntryFocus",$={bubbles:!1,cancelable:!0},I="RovingFocusGroup",[_,O,ee]=z(I),[te,de]=V(I,[ee]),[oe,re]=te(I),N=n.forwardRef((e,t)=>d.jsx(_.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(_.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(ne,{...e,ref:t})})}));N.displayName=I;var ne=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:c,orientation:o,loop:E=!1,dir:T,currentTabStopId:v,defaultCurrentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:p,preventScrollOnEntryFocus:a=!1,...b}=e,g=n.useRef(null),F=J(t,g),R=Z(T),[C,r]=Q({prop:v,defaultProp:w??null,onChange:S,caller:I}),[i,x]=n.useState(!1),u=W(p),l=O(c),h=n.useRef(!1),[L,D]=n.useState(0);return n.useEffect(()=>{const s=g.current;if(s)return s.addEventListener(A,u),()=>s.removeEventListener(A,u)},[u]),d.jsx(oe,{scope:c,orientation:o,dir:R,loop:E,currentTabStopId:C,onItemFocus:n.useCallback(s=>r(s),[r]),onItemShiftTab:n.useCallback(()=>x(!0),[]),onFocusableItemAdd:n.useCallback(()=>D(s=>s+1),[]),onFocusableItemRemove:n.useCallback(()=>D(s=>s-1),[]),children:d.jsx(G.div,{tabIndex:i||L===0?-1:0,"data-orientation":o,...b,ref:F,style:{outline:"none",...e.style},onMouseDown:m(e.onMouseDown,()=>{h.current=!0}),onFocus:m(e.onFocus,s=>{const M=!h.current;if(s.target===s.currentTarget&&M&&!i){const P=new CustomEvent(A,$);if(s.currentTarget.dispatchEvent(P),!P.defaultPrevented){const y=l().filter(f=>f.focusable),U=y.find(f=>f.active),B=y.find(f=>f.id===C),Y=[U,B,...y].filter(Boolean).map(f=>f.ref.current);k(Y,a)}}h.current=!1}),onBlur:m(e.onBlur,()=>x(!1))})})}),K="RovingFocusGroupItem",j=n.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:c,focusable:o=!0,active:E=!1,tabStopId:T,children:v,...w}=e,S=q(),p=T||S,a=re(K,c),b=a.currentTabStopId===p,g=O(c),{onFocusableItemAdd:F,onFocusableItemRemove:R,currentTabStopId:C}=a;return n.useEffect(()=>{if(o)return F(),()=>R()},[o,F,R]),d.jsx(_.ItemSlot,{scope:c,id:p,focusable:o,active:E,children:d.jsx(G.span,{tabIndex:b?0:-1,"data-orientation":a.orientation,...w,ref:t,onMouseDown:m(e.onMouseDown,r=>{o?a.onItemFocus(p):r.preventDefault()}),onFocus:m(e.onFocus,()=>a.onItemFocus(p)),onKeyDown:m(e.onKeyDown,r=>{if(r.key==="Tab"&&r.shiftKey){a.onItemShiftTab();return}if(r.target!==r.currentTarget)return;const i=ae(r,a.orientation,a.dir);if(i!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||r.shiftKey)return;r.preventDefault();let u=g().filter(l=>l.focusable).map(l=>l.ref.current);if(i==="last")u.reverse();else if(i==="prev"||i==="next"){i==="prev"&&u.reverse();const l=u.indexOf(r.currentTarget);u=a.loop?ue(u,l+1):u.slice(l+1)}setTimeout(()=>k(u))}}),children:typeof v=="function"?v({isCurrentTabStop:b,hasTabStop:C!=null}):v})})});j.displayName=K;var se={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ae(e,t,c){const o=ce(e.key,c);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return se[o]}function k(e,t=!1){const c=document.activeElement;for(const o of e)if(o===c||(o.focus({preventScroll:t}),document.activeElement!==c))return}function ue(e,t){return e.map((c,o)=>e[(t+o)%e.length])}var pe=N,me=j;export{fe as C,me as I,pe as R,de as c,Z as u};
